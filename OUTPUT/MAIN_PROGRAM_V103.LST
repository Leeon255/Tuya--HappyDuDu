文件：MAIN_PROGRAM_V103.asm 编译器版本 2.98 页次1


   1  0000              
   2  0000              message '****************************************************************'
   3  0000              message '*PROJECT NAME :MAIN PROGRAM V103                               *'
   4  0000              message '*     VERSION :V103                                            *'
   5  0000              message '* ICE VERSION :                                                *'
   6  0000              message '*      DATE   :20160302                                        *'
   7  0000              message '*      REMARK :V103 add 33~36 key                              *'
   8  0000              message '****************************************************************'
   9  0000                              ;=INCLUDE REFERENCE FILE
  10  0000                              INCLUDE MAIN_PROGRAM_V103.INC














  11  0000              
  12  0000                              ;-PUBLIC LABEL
  13  0000                              PUBLIC  _LOAD_TKS_GLOBE_VARIES
  14  0000                              PUBLIC  _LOAD_HXT_REFERENCE
  15  0000              
  16  0000              CALL_   MACRO   FUNCTION
  17  0000                      ifdef   FUNCTION
  18  0000                              ifdef   PBP
  19  0000                              MOV     A,bank FUNCTION
  20  0000                              MOV     PBP,A
  21  0000                              endif
  22  0000                              CALL    FUNCTION
  23  0000                      endif
  24  0000                              ENDM
  25  0000              
  26  0000              EXTEND_FUNCTION_INITIAL MACRO
  27  0000                              CALL_   EXTEND_FUNCTION_1A_INITIAL
  28  0000                              CALL_   EXTEND_FUNCTION_1B_INITIAL
  29  0000                              CALL_   EXTEND_FUNCTION_1C_INITIAL
  30  0000                              CALL_   EXTEND_FUNCTION_1D_INITIAL
  31  0000                              CALL_   EXTEND_FUNCTION_1E_INITIAL
  32  0000                              CALL_   EXTEND_FUNCTION_1F_INITIAL
  33  0000                              CALL_   EXTEND_FUNCTION_1G_INITIAL
  34  0000                              CALL_   EXTEND_FUNCTION_1H_INITIAL
  35  0000              
  36  0000                              CALL_   EXTEND_FUNCTION_2A_INITIAL
  37  0000                              CALL_   EXTEND_FUNCTION_2B_INITIAL
  38  0000                              CALL_   EXTEND_FUNCTION_2C_INITIAL
  39  0000                              CALL_   EXTEND_FUNCTION_2D_INITIAL
  40  0000                              CALL_   EXTEND_FUNCTION_2E_INITIAL
  41  0000                              CALL_   EXTEND_FUNCTION_2F_INITIAL
  42  0000                              CALL_   EXTEND_FUNCTION_2G_INITIAL
  43  0000                              CALL_   EXTEND_FUNCTION_2H_INITIAL
  44  0000                              ENDM
  45  0000              
文件：MAIN_PROGRAM_V103.asm 编译器版本 2.98 页次2

  46  0000              EXTEND_FUNCTION MACRO
  47  0000                              CALL_   EXTEND_FUNCTION_1A
  48  0000                              CALL_   EXTEND_FUNCTION_1B
  49  0000                              CALL_   EXTEND_FUNCTION_1C
  50  0000                              CALL_   EXTEND_FUNCTION_1D
  51  0000                              CALL_   EXTEND_FUNCTION_1E
  52  0000                              CALL_   EXTEND_FUNCTION_1F
  53  0000                              CALL_   EXTEND_FUNCTION_1G
  54  0000                              CALL_   EXTEND_FUNCTION_1H
  55  0000              
  56  0000                              CALL_   EXTEND_FUNCTION_2A
  57  0000                              CALL_   EXTEND_FUNCTION_2B
  58  0000                              CALL_   EXTEND_FUNCTION_2C
  59  0000                              CALL_   EXTEND_FUNCTION_2D
  60  0000                              CALL_   EXTEND_FUNCTION_2E
  61  0000                              CALL_   EXTEND_FUNCTION_2F
  62  0000                              CALL_   EXTEND_FUNCTION_2G
  63  0000                              CALL_   EXTEND_FUNCTION_2H
  64  0000                              ENDM
  65  0000                              ;==============
  66  0000                              ;=DATA SETCTION
  67  0000                              ;==============
  68  0000              MAIN_DATA       .SECTION          'DATA'
  69  0000              
  70  0000              ifndef  ESCpowerIDcheck
  71  0000  0002[       POR_ID          DB      2 DUP(?)
            00
            ]
  72  0002              endif
  73  0002              
  74  0002              
  75  0002              
  76  0002                              ;==============
  77  0002                              ;=CODE SETCTION
  78  0002                              ;==============
  79  0000              PROGRAM_ENTRY   .SECTION  AT 000H 'CODE'
  80  0000                      ifdef   PBP
  81  0000                              CLR     PBP
  82  0000                              ifndef  ESCpowerIDcheck
  83  0000                              MOV     A,042H      ;ASCII = B
  84  0000                              endif
  85  0000                      else
  86  0000                              ;----------------
  87  0000                              ;-SET POR ID 1---
  88  0000                              ;----------------
  89  0000                              ifndef  ESCpowerIDcheck
  90  0000  0F42                        MOV     A,042H      ;ASCII = B
  91  0001  3A8A                        SNZ     TO
  92  0002  0080     R                  MOV     POR_ID[0],A
  93  0003                              endif
  94  0003                      endif
  95  0003  2800     R                  JMP     PROGRAM_RESET
  96  0004              
  97  0004                              ;==============
  98  0004                              ;=MAIN PROGRAM=
  99  0004                              ;==============
 100  0000              MAIN_PROGRAM    .SECTION          'CODE'
 101  0000              
 102  0000                              ;;***********************
 103  0000              PROGRAM_RESET:  ;;* PROGRAM ENTRY *******
文件：MAIN_PROGRAM_V103.asm 编译器版本 2.98 页次3

 104  0000                              ;;***********************
 105  0000                      ifdef   PBP
 106  0000                              ifndef  ESCpowerIDcheck
 107  0000                              SNZ     TO
 108  0000                              MOV     POR_ID[0],A
 109  0000                              endif
 110  0000                      endif
 111  0000                              ;----------------
 112  0000                              ;-SET POR ID 2---
 113  0000                              ;----------------
 114  0000                      ifndef  ESCpowerIDcheck
 115  0000  0F53                        MOV     A,053H      ;ASCII = S
 116  0001  0080     R                  MOV     POR_ID[1],A
 117  0002                      endif
 118  0002              
 119  0002              
 120  0002                              ;---------------------
 121  0002                              ;-MCU HARDWARE INITIAL
 122  0002                              ;---------------------
 123  0002                              MCU_HARDWARE_INITIAL
 123  0002            1                 ifdef   _BS83A02A_
 123  0002            1                         MOV     A,00000011B
 123  0002            1                         MOV [0BH],A
 123  0002            1                         ;-WDT INITIAL USE 125/500MS WHEN ENABLE POWER SAVE MODE
 123  0002            1                       ;;MOV     A,01010011B     ;500   MS
 123  0002            1                         MOV     A,01010010B     ;125   MS
 123  0002            1                         MOV [01AH],A
 123  0002            1                         ;-IF POWER SAVING MODE ENABLE
 123  0002            1                         if 1==1
 123  0002            1                         SZ [0AH].5
 123  0002            1                         JMP     WDT_WAKEUP      ;IF WAKEUP BY WDT TIME OUT
 123  0002            1                         endif
 123  0002            1                         ;-CLEAR BANK0 060H~0FFH
 123  0002            1                         MOV     A,60H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                 endif
 123  0002            1                 ;--------------------------------
 123  0002            1                 ;-INITIAL FOR BS83A04A  ---------
 123  0002            1                 ;--------------------------------
 123  0002            1                 ifdef   _BS83A04A_
 123  0002            1                         MOV     A,00000011B
 123  0002            1                         MOV [0BH],A
 123  0002            1                         ;-WDT INITIAL USE 125/500MS WHEN ENABLE POWER SAVE MODE
 123  0002            1                       ;;MOV     A,01010011B     ;500   MS
 123  0002            1                         MOV     A,01010010B     ;125   MS
 123  0002            1                         MOV [01AH],A
 123  0002            1                         ;-IF POWER SAVING MODE ENABLE
 123  0002            1                         if 1==1
 123  0002            1                         SZ [0AH].5
 123  0002            1                         JMP     WDT_WAKEUP      ;IF WAKEUP BY WDT TIME OUT
 123  0002            1                         endif
 123  0002            1                         ;-CLEAR BANK0 060H~0FFH
 123  0002            1                         MOV     A,60H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                 endif
 123  0002            1 
 123  0002            1                 ;--------------------------------
 123  0002            1                 ;-INITIAL FOR BS83B04A  ---------
 123  0002            1                 ;--------------------------------
 123  0002            1                 ifdef   _BS83B04A_
文件：MAIN_PROGRAM_V103.asm 编译器版本 2.98 页次4

 123  0002            1                         MOV     A,00000011B
 123  0002            1                         MOV [0BH],A
 123  0002            1                         ;-WDT INITIAL USE 125/500MS WHEN ENABLE POWER SAVE MODE
 123  0002            1                       ;;MOV     A,01010011B     ;500   MS
 123  0002            1                         MOV     A,01010010B     ;125   MS
 123  0002            1                         MOV [01AH],A
 123  0002            1                         ;-IF POWER SAVING MODE ENABLE
 123  0002            1                         if 1==1
 123  0002            1                         SZ [0AH].5
 123  0002            1                         JMP     WDT_WAKEUP      ;IF WAKEUP BY WDT TIME OUT
 123  0002            1                         endif
 123  0002            1                         ;-CLEAR BANK0 060H~0FFH
 123  0002            1                         MOV     A,60H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                 endif
 123  0002            1 
 123  0002            1                 ;--------------------------------
 123  0002            1                 ;-INITIAL FOR BS83B08A  ---------
 123  0002            1                 ;--------------------------------
 123  0002            1                 ifdef   _BS83B08A_
 123  0002            1                         ;-SET SYSTEM CLOCK
 123  0002            1                         MOV     A,(( 0<<4)^00110000B)&00110000B
 123  0002            1                         MOV [03DH],A
 123  0002            1                         ;--
 123  0002            1                         MOV     A,00000011B
 123  0002            1                         MOV [0BH],A
 123  0002            1                         ;-WDT INITIAL USE 125/500MS WHEN ENABLE POWER SAVE MODE
 123  0002            1                       ;;MOV     A,01010011B     ;500   MS
 123  0002            1                         MOV     A,01010010B     ;125   MS
 123  0002            1                         MOV [01AH],A
 123  0002            1                         ;-IF POWER SAVING MODE ENABLE
 123  0002            1                         if 1==1
 123  0002            1                         SZ [0AH].5
 123  0002            1                         JMP     WDT_WAKEUP      ;IF WAKEUP BY WDT TIME OUT
 123  0002            1                         endif
 123  0002            1                         ;-CLEAR BANK0 060H~0FFH
 123  0002            1                         MOV     A,60H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                 endif
 123  0002            1 
 123  0002            1                 ;--------------------------------
 123  0002            1                 ;-INITIAL FOR BS83B12A  ---------
 123  0002            1                 ;--------------------------------
 123  0002            1                 ifdef   _BS83B12A_
 123  0002            1                         ;-SET SYSTEM CLOCK
 123  0002            1                         MOV     A,(( 0<<4)^00110000B)&00110000B
 123  0002            1                         MOV [03DH],A
 123  0002            1                         ;--
 123  0002            1                         MOV     A,00000011B
 123  0002            1                         MOV [0BH],A
 123  0002            1                         ;-WDT INITIAL USE 125/500MS WHEN ENABLE POWER SAVE MODE
 123  0002            1                       ;;MOV     A,01010011B     ;500   MS
 123  0002            1                         MOV     A,01010010B     ;125   MS
 123  0002            1                         MOV [01AH],A
 123  0002            1                         ;-IF POWER SAVING MODE ENABLE
 123  0002            1                         if 1==1
 123  0002            1                         SZ [0AH].5
 123  0002            1                         JMP     WDT_WAKEUP      ;IF WAKEUP BY WDT TIME OUT
 123  0002            1                         endif
 123  0002            1                         ;-CLEAR BANK1 080H~0FFH
文件：MAIN_PROGRAM_V103.asm 编译器版本 2.98 页次5

 123  0002            1                         MOV     A,1
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK0 060H~0FFH
 123  0002            1                         CLR [04H]
 123  0002            1                         MOV     A,60H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                 endif
 123  0002            1 
 123  0002            1                 ;--------------------------------
 123  0002            1                 ;-INITIAL FOR BS83B16A  ---------
 123  0002            1                 ;--------------------------------
 123  0002            1                 ifdef   _BS83B16A_
 123  0002            1                         ;-SET SYSTEM CLOCK
 123  0002            1                         MOV     A,(( 0<<4)^00110000B)&00110000B
 123  0002            1                         MOV [03DH],A
 123  0002            1                         ;--
 123  0002            1                         MOV     A,00000011B
 123  0002            1                         MOV [0BH],A
 123  0002            1                         ;-WDT INITIAL USE 125/500MS WHEN ENABLE POWER SAVE MODE
 123  0002            1                       ;;MOV     A,01010011B     ;500   MS
 123  0002            1                         MOV     A,01010010B     ;125   MS
 123  0002            1                         MOV [01AH],A
 123  0002            1                         ;-IF POWER SAVING MODE ENABLE
 123  0002            1                         if 1==1
 123  0002            1                         SZ [0AH].5
 123  0002            1                         JMP     WDT_WAKEUP      ;IF WAKEUP BY WDT TIME OUT
 123  0002            1                         endif
 123  0002            1                         ;-CLEAR BANK1 080H~0FFH
 123  0002            1                         MOV     A,1
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK0 060H~0FFH
 123  0002            1                         CLR [04H]
 123  0002            1                         MOV     A,60H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                 endif
 123  0002            1 
 123  0002            1 
 123  0002            1                 ;--------------------------------
 123  0002            1                 ;-INITIAL FOR BS84B06A  ---------
 123  0002            1                 ;--------------------------------
 123  0002            1                 ifdef   _BS84B06A_
 123  0002            1                         ;-SET SYSTEM CLOCK
 123  0002            1                         MOV     A,(( 0<<4)^00110000B)&00110000B
 123  0002            1                         MOV [03DH],A
 123  0002            1                         ;--
 123  0002            1                         MOV     A,00000011B
 123  0002            1                         MOV [0BH],A
 123  0002            1                         ;-WDT INITIAL USE 125/500MS WHEN ENABLE POWER SAVE MODE
 123  0002            1                       ;;MOV     A,01010011B     ;500   MS
 123  0002            1                         MOV     A,01010010B     ;125   MS
 123  0002            1                         MOV [01AH],A
 123  0002            1                         ;-IF POWER SAVING MODE ENABLE
 123  0002            1                         if 1==1
 123  0002            1                         SZ [0AH].5
 123  0002            1                         JMP     WDT_WAKEUP      ;IF WAKEUP BY WDT TIME OUT
 123  0002            1                         endif
文件：MAIN_PROGRAM_V103.asm 编译器版本 2.98 页次6

 123  0002            1                         ;-DISABLE ADC
 123  0002            1                         CLR [031H]
 123  0002            1                         MOV     A,01100000B
 123  0002            1                         MOV     ADCR0,A
 123  0002            1                         CLR     ADCR1
 123  0002            1                         ;-CLEAR BANK1 080H~0FFH
 123  0002            1                         MOV     A,1
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK0 060H~0FFH
 123  0002            1                         CLR [04H]
 123  0002            1                         MOV     A,60H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                 endif
 123  0002            1 
 123  0002            1 
 123  0002            1                 ;--------------------------------
 123  0002            1                 ;-INITIAL FOR BS84B08A  ---------
 123  0002            1                 ;--------------------------------
 123  0002            1                 ifdef   _BS84B08A_
 123  0002            1                         ;-SET SYSTEM CLOCK
 123  0002            1                         MOV     A,(( 0<<4)^00110000B)&00110000B
 123  0002            1                         MOV [03DH],A
 123  0002            1                         ;--
 123  0002            1                         MOV     A,00000011B
 123  0002            1                         MOV [0BH],A
 123  0002            1                         ;-WDT INITIAL USE 125/500MS WHEN ENABLE POWER SAVE MODE
 123  0002            1                       ;;MOV     A,01010011B     ;500   MS
 123  0002            1                         MOV     A,01010010B     ;125   MS
 123  0002            1                         MOV [01AH],A
 123  0002            1                         ;-IF POWER SAVING MODE ENABLE
 123  0002            1                         if 1==1
 123  0002            1                         SZ [0AH].5
 123  0002            1                         JMP     WDT_WAKEUP      ;IF WAKEUP BY WDT TIME OUT
 123  0002            1                         endif
 123  0002            1                         ;-DISABLE ADC
 123  0002            1                         CLR [031H]
 123  0002            1                         MOV     A,01100000B
 123  0002            1                         MOV     ADCR0,A
 123  0002            1                         CLR     ADCR1
 123  0002            1                         ;-CLEAR BANK1 080H~0FFH
 123  0002            1                         MOV     A,1
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK0 060H~0FFH
 123  0002            1                         CLR [04H]
 123  0002            1                         MOV     A,60H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                 endif
 123  0002            1 
 123  0002            1                 ;--------------------------------
 123  0002            1                 ;-INITIAL FOR BS84C12A  ---------
 123  0002            1                 ;--------------------------------
 123  0002            1                 ifdef   _BS84C12A_
 123  0002            1                         ;-SET SYSTEM CLOCK
 123  0002            1                         MOV     A,(( 0<<4)^00110000B)&00110000B
 123  0002            1                         MOV [03DH],A
 123  0002            1                         ;--
文件：MAIN_PROGRAM_V103.asm 编译器版本 2.98 页次7

 123  0002            1                         MOV     A,00000011B
 123  0002            1                         MOV [0BH],A
 123  0002            1                         ;-WDT INITIAL USE 125/500MS WHEN ENABLE POWER SAVE MODE
 123  0002            1                       ;;MOV     A,01010011B     ;500   MS
 123  0002            1                         MOV     A,01010010B     ;125   MS
 123  0002            1                         MOV [01AH],A
 123  0002            1                         ;-IF POWER SAVING MODE ENABLE
 123  0002            1                         if 1==1
 123  0002            1                         SZ [0AH].5
 123  0002            1                         JMP     WDT_WAKEUP      ;IF WAKEUP BY WDT TIME OUT
 123  0002            1                         endif
 123  0002            1                         ;-DISABLE ADC
 123  0002            1                         CLR [031H]
 123  0002            1                         MOV     A,01100000B
 123  0002            1                         MOV     ADCR0,A
 123  0002            1                         CLR     ADCR1
 123  0002            1                         ;-CLEAR BANK2 280H~2DFH
 123  0002            1                         MOV     A,2
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK1 180H~1FFH
 123  0002            1                         MOV     A,1
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK0 060H~0FFH
 123  0002            1                         CLR [04H]
 123  0002            1                         MOV     A,60H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                 endif
 123  0002            1                 ;--------------------------------
 123  0002            1                 ;-INITIAL FOR BS84C16A  ---------
 123  0002            1                 ;--------------------------------
 123  0002            1                 ifdef   _BS84C16A_
 123  0002            1                         ;-SET SYSTEM CLOCK
 123  0002            1                         MOV     A,(( 0<<4)&00110000B)
 123  0002            1                         MOV [03DH],A          ;BIT7=FSYSON
 123  0002            1                         ;--                     ;BIT5:BIT4=00/11:8MHZ ; 01:12MHZ ; 10:16MHZ
 123  0002            1                         MOV     A,00000011B
 123  0002            1                         MOV [0BH],A
 123  0002            1                         ;-WDT INITIAL USE 125/500MS WHEN ENABLE POWER SAVE MODE
 123  0002            1                       ;;MOV     A,01010011B     ;500   MS
 123  0002            1                         MOV     A,01010010B     ;125   MS
 123  0002            1                         MOV [01AH],A
 123  0002            1                         ;-IF POWER SAVING MODE ENABLE
 123  0002            1                         if 1==1
 123  0002            1                         SZ [0AH].5
 123  0002            1                         JMP     WDT_WAKEUP      ;IF WAKEUP BY WDT TIME OUT
 123  0002            1                         endif
 123  0002            1                         ;-DISABLE ADC
 123  0002            1                         CLR [031H]
 123  0002            1                         MOV     A,01100000B
 123  0002            1                         MOV     ADCR0,A
 123  0002            1                         CLR     ADCR1
 123  0002            1                         ;-CLEAR BANK3 380H~2FFH
 123  0002            1                         MOV     A,3
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
文件：MAIN_PROGRAM_V103.asm 编译器版本 2.98 页次8

 123  0002            1                         ;-CLEAR BANK2 280H~2FFH
 123  0002            1                         MOV     A,2
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK1 180H~1FFH
 123  0002            1                         MOV     A,1
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK0 080H~0FFH
 123  0002            1                         CLR [04H]
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                 endif
 123  0002            1 
 123  0002            1                 ;--------------------------------
 123  0002            1                 ;-INITIAL FOR BS84D20A  ---------
 123  0002            1                 ;--------------------------------
 123  0002            1                 ifdef   _BS84D20A_
 123  0002            1                         ;-SET SYSTEM CLOCK
 123  0002            1                         MOV     A,(( 0<<4)&00110000B)
 123  0002            1                         MOV [03DH],A          ;BIT7=FSYSON
 123  0002            1                         ;--                     ;BIT5:BIT4=00/11:8MHZ ; 01:12MHZ ; 10:16MHZ
 123  0002            1                         MOV     A,00000011B
 123  0002            1                         MOV [0BH],A
 123  0002            1                         ;-WDT INITIAL USE 125/500MS WHEN ENABLE POWER SAVE MODE
 123  0002            1                       ;;MOV     A,01010011B     ;500   MS
 123  0002            1                         MOV     A,01010010B     ;125   MS
 123  0002            1                         MOV [01AH],A
 123  0002            1                         ;-IF POWER SAVING MODE ENABLE
 123  0002            1                         if 1==1
 123  0002            1                         SZ [0AH].5
 123  0002            1                         JMP     WDT_WAKEUP      ;IF WAKEUP BY WDT TIME OUT
 123  0002            1                         endif
 123  0002            1                         ;-DISABLE ADC
 123  0002            1                         CLR [031H]
 123  0002            1                         MOV     A,01100000B
 123  0002            1                         MOV     ADCR0,A
 123  0002            1                         CLR     ADCR1
 123  0002            1                         ;-CLEAR BANK5 580H~2FFH
 123  0002            1                         MOV     A,5
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK4 480H~2FFH
 123  0002            1                         MOV     A,4
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK3 380H~2FFH
 123  0002            1                         MOV     A,3
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK2 280H~2FFH
 123  0002            1                         MOV     A,2
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
文件：MAIN_PROGRAM_V103.asm 编译器版本 2.98 页次9

 123  0002            1                         ;-CLEAR BANK1 180H~1FFH
 123  0002            1                         MOV     A,1
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK0 080H~0FFH
 123  0002            1                         CLR [04H]
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                 endif
 123  0002            1 
 123  0002            1                 ;--------------------------------
 123  0002            1                 ;-INITIAL FOR BS82B16   ---------
 123  0002            1                 ;--------------------------------
 123  0002            1                 ifdef   _BS82B16_
 123  0002            1                         ;-SET SYSTEM CLOCK
 123  0002            1                         MOV     A,(( 0<<4)^00110000B)&00110000B
 123  0002            1                         MOV [03DH],A
 123  0002            1                         ;--
 123  0002            1                         MOV     A,00000011B
 123  0002            1                         MOV [0BH],A
 123  0002            1                         ;-WDT INITIAL USE 125/500MS WHEN ENABLE POWER SAVE MODE
 123  0002            1                       ;;MOV     A,01010011B     ;500   MS
 123  0002            1                         MOV     A,01010010B     ;125   MS
 123  0002            1                         MOV [01AH],A
 123  0002            1 
 123  0002            1                         ;-IF POWER SAVING MODE ENABLE
 123  0002            1                         if 1==1
 123  0002            1                         SZ [0AH].5
 123  0002            1                         JMP     WDT_WAKEUP      ;IF WAKEUP BY WDT TIME OUT
 123  0002            1                         endif
 123  0002            1 
 123  0002            1                         ;-CLEAR BANK2 280H~2FFH
 123  0002            1                         MOV     A,2
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK1 180H~1FFH
 123  0002            1                         MOV     A,1
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK0 080H~0FFH
 123  0002            1                         CLR [04H]
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                 endif
 123  0002            1 
 123  0002            1                 ;--------------------------------
 123  0002            1                 ;-INITIAL FOR BS82B12A  ---------
 123  0002            1                 ;--------------------------------
 123  0002            1                 ifdef   _BS82B12A_
 123  0002            1                         ;-SET SYSTEM CLOCK
 123  0002            1                         MOV     A,(( 0<<4)&00110000B)
 123  0002            1                         MOV [03DH],A          ;BIT7=FSYSON
 123  0002            1                         ;--                     ;BIT5:BIT4=00/11:8MHZ ; 01:12MHZ ; 10:16MHZ
 123  0002            1                         MOV     A,00000011B
 123  0002            1                         MOV [0BH],A
 123  0002            1                         ;-WDT INITIAL USE 125/500MS WHEN ENABLE POWER SAVE MODE
 123  0002            1                       ;;MOV     A,01010011B     ;500   MS
文件：MAIN_PROGRAM_V103.asm 编译器版本 2.98 页次10

 123  0002            1                         MOV     A,01010010B     ;125   MS
 123  0002            1                         MOV [01AH],A
 123  0002            1                         ;-IF POWER SAVING MODE ENABLE
 123  0002            1                         if 1==1
 123  0002            1                         SZ [0AH].5
 123  0002            1                         JMP     WDT_WAKEUP      ;IF WAKEUP BY WDT TIME OUT
 123  0002            1                         endif
 123  0002            1                         ;-CLEAR BANK2 280H~2FFH
 123  0002            1                         MOV     A,2
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK1 180H~1FFH
 123  0002            1                         MOV     A,1
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK0 080H~0FFH
 123  0002            1                         CLR [04H]
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                 endif
 123  0002            1 
 123  0002            1                 ;--------------------------------
 123  0002            1                 ;-INITIAL FOR BS82C16A  ---------
 123  0002            1                 ;--------------------------------
 123  0002            1                 ifdef   _BS82C16A_
 123  0002            1                         ;-SET SYSTEM CLOCK
 123  0002            1                         MOV     A,(( 0<<4)&00110000B)
 123  0002            1                         MOV [03DH],A          ;BIT7=FSYSON
 123  0002            1                         ;--                     ;BIT5:BIT4=00/11:8MHZ ; 01:12MHZ ; 10:16MHZ
 123  0002            1                         MOV     A,00000011B
 123  0002            1                         MOV [0BH],A
 123  0002            1                         ;-WDT INITIAL USE 125/500MS WHEN ENABLE POWER SAVE MODE
 123  0002            1                       ;;MOV     A,01010011B     ;500   MS
 123  0002            1                         MOV     A,01010010B     ;125   MS
 123  0002            1                         MOV [01AH],A
 123  0002            1                         ;-IF POWER SAVING MODE ENABLE
 123  0002            1                         if 1==1
 123  0002            1                         SZ [0AH].5
 123  0002            1                         JMP     WDT_WAKEUP      ;IF WAKEUP BY WDT TIME OUT
 123  0002            1                         endif
 123  0002            1                         ;-CLEAR BANK3 380H~2FFH
 123  0002            1                         MOV     A,3
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK2 280H~2FFH
 123  0002            1                         MOV     A,2
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK1 180H~1FFH
 123  0002            1                         MOV     A,1
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK0 080H~0FFH
 123  0002            1                         CLR [04H]
 123  0002            1                         MOV     A,80H
文件：MAIN_PROGRAM_V103.asm 编译器版本 2.98 页次11

 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                 endif
 123  0002            1 
 123  0002            1                 ;--------------------------------
 123  0002            1                 ;-INITIAL FOR BS82D20A  ---------
 123  0002            1                 ;--------------------------------
 123  0002            1                 ifdef   _BS82D20A_
 123  0002            1                         ;-SET SYSTEM CLOCK
 123  0002            1                         MOV     A,(( 0<<4)&00110000B)
 123  0002            1                         MOV [03DH],A          ;BIT7=FSYSON
 123  0002            1                         ;--                     ;BIT5:BIT4=00/11:8MHZ ; 01:12MHZ ; 10:16MHZ
 123  0002            1                         MOV     A,00000011B
 123  0002            1                         MOV [0BH],A
 123  0002            1                         ;-WDT INITIAL USE 125/500MS WHEN ENABLE POWER SAVE MODE
 123  0002            1                       ;;MOV     A,01010011B     ;500   MS
 123  0002            1                         MOV     A,01010010B     ;125   MS
 123  0002            1                         MOV [01AH],A
 123  0002            1                         ;-IF POWER SAVING MODE ENABLE
 123  0002            1                         if 1==1
 123  0002            1                         SZ [0AH].5
 123  0002            1                         JMP     WDT_WAKEUP      ;IF WAKEUP BY WDT TIME OUT
 123  0002            1                         endif
 123  0002            1                         ;-CLEAR BANK5 580H~2FFH
 123  0002            1                         MOV     A,5
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK4 480H~2FFH
 123  0002            1                         MOV     A,4
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK3 380H~2FFH
 123  0002            1                         MOV     A,3
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK2 280H~2FFH
 123  0002            1                         MOV     A,2
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK1 180H~1FFH
 123  0002            1                         MOV     A,1
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK0 080H~0FFH
 123  0002            1                         CLR [04H]
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                 endif
 123  0002            1                 ;--------------------------------
 123  0002            1                 ;-INITIAL FOR BS45FH21  ---------
 123  0002            1                 ;--------------------------------
 123  0002            1                 ifdef   _BS45FH21_
 123  0002            1 
 123  0002            1 
 123  0002            1                         ;CLR     SCC
 123  0002            1                         MOV     A,00011111B     ;FH=Fsys/1
文件：MAIN_PROGRAM_V103.asm 编译器版本 2.98 页次12

 123  0002            1                         ANDM    A,SCC
 123  0002            1 
 123  0002            1                         ;-WDT INITIAL USE 125/500MS WHEN ENABLE POWER SAVE MODE
 123  0002            1                       ;;MOV     A,01010011B     ;500   MS
 123  0002            1                         MOV     A,01010010B     ;125   MS
 123  0002            1                         MOV [01AH],A
 123  0002            1                         ;-IF POWER SAVING MODE ENABLE
 123  0002            1                         if 1==1
 123  0002            1                         SZ [0AH].5
 123  0002            1                         JMP     WDT_WAKEUP      ;IF WAKEUP BY WDT TIME OUT
 123  0002            1                         endif
 123  0002            1                         ;-CLEAR BANK7 780H~7FFH
 123  0002            1                         MOV     A,7
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK5 680H~6FFH
 123  0002            1                         MOV     A,6
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK5 580H~2FFH
 123  0002            1                         MOV     A,5
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK4 480H~2FFH
 123  0002            1                         MOV     A,4
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK3 380H~2FFH
 123  0002            1                         MOV     A,3
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK2 280H~2FFH
 123  0002            1                         MOV     A,2
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK1 180H~1FFH
 123  0002            1                         MOV     A,1
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK0 080H~0FFH
 123  0002            1                         CLR [04H]
 123  0002            1                         MOV     A,60H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                 endif
 123  0002            1 
 123  0002            1               ;--------------------------------
 123  0002            1                 ;-INITIAL FOR BS66F340  ---------
 123  0002            1                 ;--------------------------------
 123  0002            1                 ifdef   _BS66F340_
 123  0002            1 
 123  0002            1                         ;CLR     SCC
 123  0002            1                         MOV     A,00011111B     ;FH=Fsys/1
 123  0002            1                         ANDM    A,SCC
文件：MAIN_PROGRAM_V103.asm 编译器版本 2.98 页次13

 123  0002            1 
 123  0002            1                         MOV     A,(( 0<<2)&00001100B)|00000001B
 123  0002            1                         MOV     HIRCC,A
 123  0002            1 
 123  0002            1                         ;-WDT INITIAL USE 125/500MS WHEN ENABLE POWER SAVE MODE
 123  0002            1                       ;;MOV     A,01010011B     ;500   MS
 123  0002            1                         MOV     A,01010010B     ;125   MS
 123  0002            1                         MOV [01AH],A
 123  0002            1                         ;-IF POWER SAVING MODE ENABLE
 123  0002            1                         if 1==1
 123  0002            1                         SZ [0AH].5
 123  0002            1                         JMP     WDT_WAKEUP      ;IF WAKEUP BY WDT TIME OUT
 123  0002            1                         endif
 123  0002            1 
 123  0002            1                         ;-CLEAR BANK3 380H~2FFH
 123  0002            1                         MOV     A,3
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK2 280H~2FFH
 123  0002            1                         MOV     A,2
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK1 180H~1FFH
 123  0002            1                         MOV     A,1
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK0 080H~0FFH
 123  0002            1                         CLR [04H]
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                 endif
 123  0002            1 
 123  0002            1                 ;--------------------------------
 123  0002            1                 ;-INITIAL FOR BS66F350  ---------
 123  0002            1                 ;--------------------------------
 123  0002            1                 ifdef   _BS66F350_
 123  0002            1 
 123  0002            1                         ;CLR     SCC
 123  0002            1                         MOV     A,00011111B     ;FH=Fsys/1
 123  0002            1                         ANDM    A,SCC
 123  0002            1 
 123  0002            1                         MOV     A,(( 0<<2)&00001100B)|00000001B
 123  0002            1                         MOV     HIRCC,A
 123  0002            1 
 123  0002            1                         ;-WDT INITIAL USE 125/500MS WHEN ENABLE POWER SAVE MODE
 123  0002            1                       ;;MOV     A,01010011B     ;500   MS
 123  0002            1                         MOV     A,01010010B     ;125   MS
 123  0002            1                         MOV [01AH],A
 123  0002            1                         ;-IF POWER SAVING MODE ENABLE
 123  0002            1                         if 1==1
 123  0002            1                         SZ [0AH].5
 123  0002            1                         JMP     WDT_WAKEUP      ;IF WAKEUP BY WDT TIME OUT
 123  0002            1                         endif
 123  0002            1 
 123  0002            1                         ;-CLEAR BANK5 580H~2FFH
 123  0002            1                         MOV     A,5
 123  0002            1                         MOV [04H],A
文件：MAIN_PROGRAM_V103.asm 编译器版本 2.98 页次14

 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK4 480H~2FFH
 123  0002            1                         MOV     A,4
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK3 380H~2FFH
 123  0002            1                         MOV     A,3
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK2 280H~2FFH
 123  0002            1                         MOV     A,2
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK1 180H~1FFH
 123  0002            1                         MOV     A,1
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK0 080H~0FFH
 123  0002            1                         CLR [04H]
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                 endif
 123  0002            1 
 123  0002            1                 ;--------------------------------
 123  0002            1                 ;-INITIAL FOR BS66F360  ---------
 123  0002            1                 ;--------------------------------
 123  0002            1                 ifdef   _BS66F360_
 123  0002            1 
 123  0002            1                         ;CLR     SCC
 123  0002            1                         MOV     A,00011111B     ;FH=Fsys/1
 123  0002            1                         ANDM    A,SCC
 123  0002            1 
 123  0002            1                         MOV     A,(( 0<<2)&00001100B)|00000001B
 123  0002            1                         MOV     HIRCC,A
 123  0002            1 
 123  0002            1                         ;-WDT INITIAL USE 125/500MS WHEN ENABLE POWER SAVE MODE
 123  0002            1                       ;;MOV     A,01010011B     ;500   MS
 123  0002            1                         MOV     A,01010010B     ;125   MS
 123  0002            1                         MOV [01AH],A
 123  0002            1                         ;-IF POWER SAVING MODE ENABLE
 123  0002            1                         if 1==1
 123  0002            1                         SZ [0AH].5
 123  0002            1                         JMP     WDT_WAKEUP      ;IF WAKEUP BY WDT TIME OUT
 123  0002            1                         endif
 123  0002            1                         ;-CLEAR BANK7 780H~7FFH
 123  0002            1                         MOV     A,7
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK5 680H~6FFH
 123  0002            1                         MOV     A,6
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK5 580H~2FFH
文件：MAIN_PROGRAM_V103.asm 编译器版本 2.98 页次15

 123  0002            1                         MOV     A,5
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK4 480H~2FFH
 123  0002            1                         MOV     A,4
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK3 380H~2FFH
 123  0002            1                         MOV     A,3
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK2 280H~2FFH
 123  0002            1                         MOV     A,2
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK1 180H~1FFH
 123  0002            1                         MOV     A,1
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK0 080H~0FFH
 123  0002            1                         CLR [04H]
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                 endif
 123  0002            1 
 123  0002            1                 ;--------------------------------
 123  0002            1                 ;-INITIAL FOR BS67F340  ---------
 123  0002            1                 ;--------------------------------
 123  0002            1                 ifdef   _BS67F340_
 123  0002            1 
 123  0002            1                         ;CLR     SCC
 123  0002            1                         MOV     A,00011111B     ;FH=Fsys/1
 123  0002            1                         ANDM    A,SCC
 123  0002            1 
 123  0002            1                         MOV     A,(( 0<<2)&00001100B)|00000001B
 123  0002            1                         MOV     HIRCC,A
 123  0002            1 
 123  0002            1                         ;-WDT INITIAL USE 125/500MS WHEN ENABLE POWER SAVE MODE
 123  0002            1                       ;;MOV     A,01010011B     ;500   MS
 123  0002            1                         MOV     A,01010010B     ;125   MS
 123  0002            1                         MOV [01AH],A
 123  0002            1                         ;-IF POWER SAVING MODE ENABLE
 123  0002            1                         if 1==1
 123  0002            1                         SZ [0AH].5
 123  0002            1                         JMP     WDT_WAKEUP      ;IF WAKEUP BY WDT TIME OUT
 123  0002            1                         endif
 123  0002            1                         ;-CLEAR BANK3 380H~2FFH
 123  0002            1                         MOV     A,3
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK2 280H~2FFH
 123  0002            1                         MOV     A,2
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
文件：MAIN_PROGRAM_V103.asm 编译器版本 2.98 页次16

 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK1 180H~1FFH
 123  0002            1                         MOV     A,1
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK0 080H~0FFH
 123  0002            1                         CLR [04H]
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                 endif
 123  0002            1 
 123  0002            1                 ;--------------------------------
 123  0002            1                 ;-INITIAL FOR BS67F350  ---------
 123  0002            1                 ;--------------------------------
 123  0002            1                 ifdef   _BS67F350_
 123  0002            1 
 123  0002            1                         ;CLR     SCC
 123  0002            1                         MOV     A,00011111B     ;FH=Fsys/1
 123  0002            1                         ANDM    A,SCC
 123  0002            1 
 123  0002            1                         MOV     A,(( 0<<2)&00001100B)|00000001B
 123  0002            1                         MOV     HIRCC,A
 123  0002            1 
 123  0002            1                         ;-WDT INITIAL USE 125/500MS WHEN ENABLE POWER SAVE MODE
 123  0002            1                       ;;MOV     A,01010011B     ;500   MS
 123  0002            1                         MOV     A,01010010B     ;125   MS
 123  0002            1                         MOV [01AH],A
 123  0002            1                         ;-IF POWER SAVING MODE ENABLE
 123  0002            1                         if 1==1
 123  0002            1                         SZ [0AH].5
 123  0002            1                         JMP     WDT_WAKEUP      ;IF WAKEUP BY WDT TIME OUT
 123  0002            1                         endif
 123  0002            1                         ;-CLEAR BANK5 580H~2FFH
 123  0002            1                         MOV     A,5
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK4 480H~2FFH
 123  0002            1                         MOV     A,4
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK3 380H~2FFH
 123  0002            1                         MOV     A,3
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK2 280H~2FFH
 123  0002            1                         MOV     A,2
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK1 180H~1FFH
 123  0002            1                         MOV     A,1
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK0 080H~0FFH
 123  0002            1                         CLR [04H]
文件：MAIN_PROGRAM_V103.asm 编译器版本 2.98 页次17

 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                 endif
 123  0002            1 
 123  0002            1                 ;--------------------------------
 123  0002            1                 ;-INITIAL FOR BS67F360  ---------
 123  0002            1                 ;--------------------------------
 123  0002            1                 ifdef   _BS67F360_
 123  0002            1 
 123  0002            1                         ;CLR     SCC
 123  0002            1                         MOV     A,00011111B     ;FH=Fsys/1
 123  0002            1                         ANDM    A,SCC
 123  0002            1 
 123  0002            1                         MOV     A,(( 0<<2)&00001100B)|00000001B
 123  0002            1                         MOV     HIRCC,A
 123  0002            1 
 123  0002            1                         ;-WDT INITIAL USE 125/500MS WHEN ENABLE POWER SAVE MODE
 123  0002            1                       ;;MOV     A,01010011B     ;500   MS
 123  0002            1                         MOV     A,01010010B     ;125   MS
 123  0002            1                         MOV [01AH],A
 123  0002            1                         ;-IF POWER SAVING MODE ENABLE
 123  0002            1                         if 1==1
 123  0002            1                         SZ [0AH].5
 123  0002            1                         JMP     WDT_WAKEUP      ;IF WAKEUP BY WDT TIME OUT
 123  0002            1                         endif
 123  0002            1                         ;-CLEAR BANK7 780H~7FFH
 123  0002            1                         MOV     A,7
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK5 680H~6FFH
 123  0002            1                         MOV     A,6
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK5 580H~2FFH
 123  0002            1                         MOV     A,5
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK4 480H~2FFH
 123  0002            1                         MOV     A,4
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK3 380H~2FFH
 123  0002            1                         MOV     A,3
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK2 280H~2FFH
 123  0002            1                         MOV     A,2
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK1 180H~1FFH
 123  0002            1                         MOV     A,1
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
文件：MAIN_PROGRAM_V103.asm 编译器版本 2.98 页次18

 123  0002            1                         ;-CLEAR BANK0 080H~0FFH
 123  0002            1                         CLR [04H]
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                 endif
 123  0002            1 
 123  0002            1                 ;--
 123  0002            1 
 123  0002            1                 ;--------------------------------
 123  0002            1                 ;-INITIAL FOR BS66FV340  ---------
 123  0002            1                 ;--------------------------------
 123  0002            1                 ifdef   _BS66FV340_
 123  0002            1 
 123  0002            1                         ;CLR     SCC
 123  0002            1                         MOV     A,00011111B     ;FH=Fsys/1
 123  0002            1                         ANDM    A,SCC
 123  0002            1 
 123  0002            1                         MOV     A,(( 0<<2)&00001100B)|00000001B
 123  0002            1                         MOV     HIRCC,A
 123  0002            1 
 123  0002            1                         ;-WDT INITIAL USE 125/500MS WHEN ENABLE POWER SAVE MODE
 123  0002            1                       ;;MOV     A,01010011B     ;500   MS
 123  0002            1                         MOV     A,01010010B     ;125   MS
 123  0002            1                         MOV [01AH],A
 123  0002            1                         ;-IF POWER SAVING MODE ENABLE
 123  0002            1                         if 1==1
 123  0002            1                         SZ [0AH].5
 123  0002            1                         JMP     WDT_WAKEUP      ;IF WAKEUP BY WDT TIME OUT
 123  0002            1                         endif
 123  0002            1                         ;;;;;;-CLEAR BANK7 780H~7FFH
 123  0002            1                         ;;;;;MOV     A,7
 123  0002            1                         ;;;;;MOV     BP,A
 123  0002            1                         ;;;;;MOV     A,80H
 123  0002            1                         ;;;;;CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK5 680H~6FFH
 123  0002            1                         MOV     A,6
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK5 580H~2FFH
 123  0002            1                         MOV     A,5
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;;;;;;-CLEAR BANK4 480H~2FFH
 123  0002            1                         ;;;;;MOV     A,4
 123  0002            1                         ;;;;;MOV     BP,A
 123  0002            1                         ;;;;;MOV     A,80H
 123  0002            1                         ;;;;;CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK3 380H~2FFH
 123  0002            1                         MOV     A,3
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK2 280H~2FFH
 123  0002            1                         MOV     A,2
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK1 180H~1FFH
文件：MAIN_PROGRAM_V103.asm 编译器版本 2.98 页次19

 123  0002            1                         MOV     A,1
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK0 080H~0FFH
 123  0002            1                         CLR [04H]
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                 endif
 123  0002            1 
 123  0002            1 
 123  0002            1                 ;--------------------------------
 123  0002            1                 ;-INITIAL FOR BS66FV350  ---------
 123  0002            1                 ;--------------------------------
 123  0002            1                 ifdef   _BS66FV350_
 123  0002            1 
 123  0002            1                         ;CLR     SCC
 123  0002            1                         MOV     A,00011111B     ;FH=Fsys/1
 123  0002            1                         ANDM    A,SCC
 123  0002            1 
 123  0002            1                         MOV     A,(( 0<<2)&00001100B)|00000001B
 123  0002            1                         MOV     HIRCC,A
 123  0002            1 
 123  0002            1                         ;-WDT INITIAL USE 125/500MS WHEN ENABLE POWER SAVE MODE
 123  0002            1                       ;;MOV     A,01010011B     ;500   MS
 123  0002            1                         MOV     A,01010010B     ;125   MS
 123  0002            1                         MOV [01AH],A
 123  0002            1                         ;-IF POWER SAVING MODE ENABLE
 123  0002            1                         if 1==1
 123  0002            1                         SZ [0AH].5
 123  0002            1                         JMP     WDT_WAKEUP      ;IF WAKEUP BY WDT TIME OUT
 123  0002            1                         endif
 123  0002            1                         ;;;;;;-CLEAR BANK7 780H~7FFH
 123  0002            1                         ;;;;;MOV     A,7
 123  0002            1                         ;;;;;MOV     BP,A
 123  0002            1                         ;;;;;MOV     A,80H
 123  0002            1                         ;;;;;CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK5 680H~6FFH
 123  0002            1                         MOV     A,6
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK5 580H~2FFH
 123  0002            1                         MOV     A,5
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK4 480H~2FFH
 123  0002            1                         MOV     A,4
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK3 380H~2FFH
 123  0002            1                         MOV     A,3
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK2 280H~2FFH
 123  0002            1                         MOV     A,2
 123  0002            1                         MOV [04H],A
文件：MAIN_PROGRAM_V103.asm 编译器版本 2.98 页次20

 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK1 180H~1FFH
 123  0002            1                         MOV     A,1
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK0 080H~0FFH
 123  0002            1                         CLR [04H]
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                 endif
 123  0002            1 
 123  0002            1                 ;--------------------------------
 123  0002            1                 ;-INITIAL FOR BS66FV360  ---------
 123  0002            1                 ;--------------------------------
 123  0002            1                 ifdef   _BS66FV360_
 123  0002            1 
 123  0002            1                         ;CLR     SCC
 123  0002            1                         MOV     A,00011111B     ;FH=Fsys/1
 123  0002            1                         ANDM    A,SCC
 123  0002            1 
 123  0002            1                         MOV     A,(( 0<<2)&00001100B)|00000001B
 123  0002            1                         MOV     HIRCC,A
 123  0002            1 
 123  0002            1                         ;-WDT INITIAL USE 125/500MS WHEN ENABLE POWER SAVE MODE
 123  0002            1                       ;;MOV     A,01010011B     ;500   MS
 123  0002            1                         MOV     A,01010010B     ;125   MS
 123  0002            1                         MOV [01AH],A
 123  0002            1                         ;-IF POWER SAVING MODE ENABLE
 123  0002            1                         if 1==1
 123  0002            1                         SZ [0AH].5
 123  0002            1                         JMP     WDT_WAKEUP      ;IF WAKEUP BY WDT TIME OUT
 123  0002            1                         endif
 123  0002            1                         ;-CLEAR BANK7 780H~7FFH
 123  0002            1                         MOV     A,7
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK5 680H~6FFH
 123  0002            1                         MOV     A,6
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK5 580H~2FFH
 123  0002            1                         MOV     A,5
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK4 480H~2FFH
 123  0002            1                         MOV     A,4
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK3 380H~2FFH
 123  0002            1                         MOV     A,3
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK2 280H~2FFH
文件：MAIN_PROGRAM_V103.asm 编译器版本 2.98 页次21

 123  0002            1                         MOV     A,2
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK1 180H~1FFH
 123  0002            1                         MOV     A,1
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK0 080H~0FFH
 123  0002            1                         CLR [04H]
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                 endif
 123  0002            1 
 123  0002            1                 ;--------------------------------
 123  0002            1                 ;-INITIAL FOR BS86B12A  ---------
 123  0002            1                 ;--------------------------------
 123  0002            1                 ifdef   _BS86B12A_
 123  0002            1                         ;-SET SYSTEM CLOCK
 123  0002            1                         MOV     A,(( 0<<4)&00110000B)
 123  0002            1                         MOV [03DH],A          ;BIT7=FSYSON
 123  0002            1                         ;--                     ;BIT5:BIT4=00/11:8MHZ ; 01:12MHZ ; 10:16MHZ
 123  0002            1                         MOV     A,00000011B
 123  0002            1                         MOV [0BH],A
 123  0002            1                         ;-WDT INITIAL USE 125/500MS WHEN ENABLE POWER SAVE MODE
 123  0002            1                       ;;MOV     A,01010011B     ;500   MS
 123  0002            1                         MOV     A,01010010B     ;125   MS
 123  0002            1                         MOV [01AH],A
 123  0002            1                         ;-IF POWER SAVING MODE ENABLE
 123  0002            1                         if 1==1
 123  0002            1                         SZ [0AH].5
 123  0002            1                         JMP     WDT_WAKEUP      ;IF WAKEUP BY WDT TIME OUT
 123  0002            1                         endif
 123  0002            1                         ;-DISABLE ADC
 123  0002            1                         CLR [031H]
 123  0002            1                         MOV     A,01100000B
 123  0002            1                         MOV     ADCR0,A
 123  0002            1                         CLR     ADCR1
 123  0002            1                       ;;;-CLEAR BANK3 380H~2FFH
 123  0002            1                       ;;MOV     A,3
 123  0002            1                       ;;MOV     BP,A
 123  0002            1                       ;;MOV     A,80H
 123  0002            1                       ;;CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK2 280H~2FFH
 123  0002            1                         MOV     A,2
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK1 180H~1FFH
 123  0002            1                         MOV     A,1
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK0 080H~0FFH
 123  0002            1                         CLR [04H]
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                 endif
 123  0002            1 
文件：MAIN_PROGRAM_V103.asm 编译器版本 2.98 页次22

 123  0002            1                 ;--------------------------------
 123  0002            1                 ;-INITIAL FOR BS86C16A  ---------
 123  0002            1                 ;--------------------------------
 123  0002            1                 ifdef   _BS86C16A_
 123  0002            1                         ;-SET SYSTEM CLOCK
 123  0002            1                         MOV     A,(( 0<<4)&00110000B)
 123  0002            1                         MOV [03DH],A          ;BIT7=FSYSON
 123  0002            1                         ;--                     ;BIT5:BIT4=00/11:8MHZ ; 01:12MHZ ; 10:16MHZ
 123  0002            1                         MOV     A,00000011B
 123  0002            1                         MOV [0BH],A
 123  0002            1                         ;-WDT INITIAL USE 125/500MS WHEN ENABLE POWER SAVE MODE
 123  0002            1                       ;;MOV     A,01010011B     ;500   MS
 123  0002            1                         MOV     A,01010010B     ;125   MS
 123  0002            1                         MOV [01AH],A
 123  0002            1                         ;-IF POWER SAVING MODE ENABLE
 123  0002            1                         if 1==1
 123  0002            1                         SZ [0AH].5
 123  0002            1                         JMP     WDT_WAKEUP      ;IF WAKEUP BY WDT TIME OUT
 123  0002            1                         endif
 123  0002            1                         ;-DISABLE ADC
 123  0002            1                         CLR [031H]
 123  0002            1                         MOV     A,01100000B
 123  0002            1                         MOV     ADCR0,A
 123  0002            1                         CLR     ADCR1
 123  0002            1                         ;-CLEAR BANK3 380H~2FFH
 123  0002            1                         MOV     A,3
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK2 280H~2FFH
 123  0002            1                         MOV     A,2
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK1 180H~1FFH
 123  0002            1                         MOV     A,1
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK0 080H~0FFH
 123  0002            1                         CLR [04H]
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                 endif
 123  0002            1 
 123  0002            1                 ;--------------------------------
 123  0002            1                 ;-INITIAL FOR BS86D20A  ---------
 123  0002            1                 ;--------------------------------
 123  0002            1                 ifdef   _BS86D20A_
 123  0002            1                         ;-SET SYSTEM CLOCK
 123  0002            1                         MOV     A,(( 0<<4)&00110000B)
 123  0002            1                         MOV [03DH],A          ;BIT7=FSYSON
 123  0002            1                         ;--                     ;BIT5:BIT4=00/11:8MHZ ; 01:12MHZ ; 10:16MHZ
 123  0002            1                         MOV     A,00000011B
 123  0002            1                         MOV [0BH],A
 123  0002            1                         ;-WDT INITIAL USE 125/500MS WHEN ENABLE POWER SAVE MODE
 123  0002            1                       ;;MOV     A,01010011B     ;500   MS
 123  0002            1                         MOV     A,01010010B     ;125   MS
 123  0002            1                         MOV [01AH],A
 123  0002            1                         ;-IF POWER SAVING MODE ENABLE
文件：MAIN_PROGRAM_V103.asm 编译器版本 2.98 页次23

 123  0002            1                         if 1==1
 123  0002            1                         SZ [0AH].5
 123  0002            1                         JMP     WDT_WAKEUP      ;IF WAKEUP BY WDT TIME OUT
 123  0002            1                         endif
 123  0002            1                         ;-DISABLE ADC
 123  0002            1                         CLR [031H]
 123  0002            1                         MOV     A,01100000B
 123  0002            1                         MOV     ADCR0,A
 123  0002            1                         CLR     ADCR1
 123  0002            1                         ;-CLEAR BANK5 580H~2FFH
 123  0002            1                         MOV     A,5
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK4 480H~2FFH
 123  0002            1                         MOV     A,4
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK3 380H~2FFH
 123  0002            1                         MOV     A,3
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK2 280H~2FFH
 123  0002            1                         MOV     A,2
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK1 180H~1FFH
 123  0002            1                         MOV     A,1
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK0 080H~0FFH
 123  0002            1                         CLR [04H]
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                 endif
 123  0002            1 
 123  0002            1 
 123  0002            1                 ;--------------------------------
 123  0002            1                 ;-INITIAL FOR BS87C16A  ---------
 123  0002            1                 ;--------------------------------
 123  0002            1                 ifdef   _BS87C16A_
 123  0002            1                         ;-SET SYSTEM CLOCK
 123  0002            1                         MOV     A,(( 0<<4)&00110000B)
 123  0002            1                         MOV [03DH],A          ;BIT7=FSYSON
 123  0002            1                         ;--                     ;BIT5:BIT4=00/11:8MHZ ; 01:12MHZ ; 10:16MHZ
 123  0002            1                         MOV     A,00000011B
 123  0002            1                         MOV [0BH],A
 123  0002            1                         ;-WDT INITIAL USE 125/500MS WHEN ENABLE POWER SAVE MODE
 123  0002            1                       ;;MOV     A,01010011B     ;500   MS
 123  0002            1                         MOV     A,01010010B     ;125   MS
 123  0002            1                         MOV [01AH],A
 123  0002            1                         ;-IF POWER SAVING MODE ENABLE
 123  0002            1                         if 1==1
 123  0002            1                         SZ [0AH].5
 123  0002            1                         JMP     WDT_WAKEUP      ;IF WAKEUP BY WDT TIME OUT
 123  0002            1                         endif
文件：MAIN_PROGRAM_V103.asm 编译器版本 2.98 页次24

 123  0002            1                         ;-DISABLE ADC
 123  0002            1                         CLR [031H]
 123  0002            1                         MOV     A,01000000B
 123  0002            1                         MOV [02FH],A
 123  0002            1                         CLR [030H]
 123  0002            1                         ;-CLEAR BANK3 380H~2FFH
 123  0002            1                         MOV     A,3
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK2 280H~2FFH
 123  0002            1                         MOV     A,2
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK1 180H~1FFH
 123  0002            1                         MOV     A,1
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK0 080H~0FFH
 123  0002            1                         CLR [04H]
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                 endif
 123  0002            1 
 123  0002            1 
 123  0002            1 
 123  0002            1 
 123  0002            1                 ;--------------------------------
 123  0002            1                 ;-INITIAL FOR BS66F370  ---------
 123  0002            1                 ;--------------------------------
 123  0002            1                 ifdef   _BS66F370_
 123  0002            1 
 123  0002            1                         ;CLR     SCC
 123  0002            1                         MOV     A,00011111B     ;FH=Fsys/1
 123  0002            1                         ANDM    A,SCC
 123  0002            1 
 123  0002            1                         MOV     A,(( 0<<2)&00001100B)|00000001B
 123  0002            1                         MOV     HIRCC,A
 123  0002            1 
 123  0002            1                         ;-WDT INITIAL USE 125/500MS WHEN ENABLE POWER SAVE MODE
 123  0002            1                       ;;MOV     A,01010011B     ;500   MS
 123  0002            1                         MOV     A,01010010B     ;125   MS
 123  0002            1                         MOV [01AH],A
 123  0002            1                         ;-IF POWER SAVING MODE ENABLE
 123  0002            1                         if 1==1
 123  0002            1                         SZ [0AH].5
 123  0002            1                         JMP     WDT_WAKEUP      ;IF WAKEUP BY WDT TIME OUT
 123  0002            1                         endif
 123  0002            1 
 123  0002            1 
 123  0002            1                         ;-CLEAR BANK11 0B80H~7FFH
 123  0002            1                         MOV     A,11
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK10 0A80H~7FFH
 123  0002            1                         MOV     A,10
 123  0002            1                         MOV [04H],A
文件：MAIN_PROGRAM_V103.asm 编译器版本 2.98 页次25

 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK9 980H~7FFH
 123  0002            1                         MOV     A,9
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK8 880H~7FFH
 123  0002            1                         MOV     A,8
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK7 780H~7FFH
 123  0002            1                         MOV     A,7
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK6 680H~6FFH
 123  0002            1                         MOV     A,6
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK5 580H~2FFH
 123  0002            1                         MOV     A,5
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK4 480H~2FFH
 123  0002            1                         MOV     A,4
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK3 380H~2FFH
 123  0002            1                         MOV     A,3
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK2 280H~2FFH
 123  0002            1                         MOV     A,2
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK1 180H~1FFH
 123  0002            1                         MOV     A,1
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK0 080H~0FFH
 123  0002            1                         CLR [04H]
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                 endif
 123  0002            1 
 123  0002            1                 ;--------------------------------
 123  0002            1                 ;-INITIAL FOR BS67F370  ---------
 123  0002            1                 ;--------------------------------
 123  0002            1                 ifdef   _BS67F370_
 123  0002            1 
 123  0002            1                         ;CLR     SCC
 123  0002            1                         MOV     A,00011111B     ;FH=Fsys/1
文件：MAIN_PROGRAM_V103.asm 编译器版本 2.98 页次26

 123  0002            1                         ANDM    A,SCC
 123  0002            1 
 123  0002            1                         MOV     A,(( 0<<2)&00001100B)|00000001B
 123  0002            1                         MOV     HIRCC,A
 123  0002            1 
 123  0002            1                         ;-WDT INITIAL USE 125/500MS WHEN ENABLE POWER SAVE MODE
 123  0002            1                       ;;MOV     A,01010011B     ;500   MS
 123  0002            1                         MOV     A,01010010B     ;125   MS
 123  0002            1                         MOV [01AH],A
 123  0002            1                         ;-IF POWER SAVING MODE ENABLE
 123  0002            1                         if 1==1
 123  0002            1                         SZ [0AH].5
 123  0002            1                         JMP     WDT_WAKEUP      ;IF WAKEUP BY WDT TIME OUT
 123  0002            1                         endif
 123  0002            1 
 123  0002            1 
 123  0002            1                         ;-CLEAR BANK11 0B80H~7FFH
 123  0002            1                         MOV     A,11
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK10 0A80H~7FFH
 123  0002            1                         MOV     A,10
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK9 980H~7FFH
 123  0002            1                         MOV     A,9
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK8 880H~7FFH
 123  0002            1                         MOV     A,8
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK7 780H~7FFH
 123  0002            1                         MOV     A,7
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK6 680H~6FFH
 123  0002            1                         MOV     A,6
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK5 580H~2FFH
 123  0002            1                         MOV     A,5
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK4 480H~2FFH
 123  0002            1                         MOV     A,4
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK3 380H~2FFH
 123  0002            1                         MOV     A,3
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
文件：MAIN_PROGRAM_V103.asm 编译器版本 2.98 页次27

 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK2 280H~2FFH
 123  0002            1                         MOV     A,2
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK1 180H~1FFH
 123  0002            1                         MOV     A,1
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK0 080H~0FFH
 123  0002            1                         CLR [04H]
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                 endif
 123  0002            1                 ;--------------------------------
 123  0002            1                 ;-INITIAL FOR BS87C16A  ---------
 123  0002            1                 ;--------------------------------
 123  0002            1                 ifdef   _BS87B12A_
 123  0002            1                         ;-SET SYSTEM CLOCK
 123  0002            1                         MOV     A,(( 0<<4)&00110000B)
 123  0002            1                         MOV [03DH],A          ;BIT7=FSYSON
 123  0002            1                         ;--                     ;BIT5:BIT4=00/11:8MHZ ; 01:12MHZ ; 10:16MHZ
 123  0002            1                         MOV     A,00000011B
 123  0002            1                         MOV [0BH],A
 123  0002            1                         ;-WDT INITIAL USE 125/500MS WHEN ENABLE POWER SAVE MODE
 123  0002            1                       ;;MOV     A,01010011B     ;500   MS
 123  0002            1                         MOV     A,01010010B     ;125   MS
 123  0002            1                         MOV [01AH],A
 123  0002            1                         ;-IF POWER SAVING MODE ENABLE
 123  0002            1                         if 1==1
 123  0002            1                         SZ [0AH].5
 123  0002            1                         JMP     WDT_WAKEUP      ;IF WAKEUP BY WDT TIME OUT
 123  0002            1                         endif
 123  0002            1                         ;-DISABLE ADC
 123  0002            1                         CLR [031H]
 123  0002            1                         MOV     A,01000000B
 123  0002            1                         MOV [02FH],A
 123  0002            1                         CLR [030H]
 123  0002            1                         ;-CLEAR BANK2 280H~2FFH
 123  0002            1                         MOV     A,2
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK1 180H~1FFH
 123  0002            1                         MOV     A,1
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK0 080H~0FFH
 123  0002            1                         CLR [04H]
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                 endif
 123  0002            1 
 123  0002            1 
 123  0002            1                 ;--------------------------------
 123  0002            1                 ;-INITIAL FOR BS87D20A  ---------
 123  0002            1                 ;--------------------------------
文件：MAIN_PROGRAM_V103.asm 编译器版本 2.98 页次28

 123  0002            1                 ifdef   _BS87D20A_
 123  0002            1                         ;-SET SYSTEM CLOCK
 123  0002            1                         MOV     A,(( 0<<4)&00110000B)
 123  0002            1                         MOV [03DH],A          ;BIT7=FSYSON
 123  0002            1                         ;--                     ;BIT5:BIT4=00/11:8MHZ ; 01:12MHZ ; 10:16MHZ
 123  0002            1                         MOV     A,00000011B
 123  0002            1                         MOV [0BH],A
 123  0002            1                         ;-WDT INITIAL USE 125/500MS WHEN ENABLE POWER SAVE MODE
 123  0002            1                       ;;MOV     A,01010011B     ;500   MS
 123  0002            1                         MOV     A,01010010B     ;125   MS
 123  0002            1                         MOV [01AH],A
 123  0002            1                         ;-IF POWER SAVING MODE ENABLE
 123  0002            1                         if 1==1
 123  0002            1                         SZ [0AH].5
 123  0002            1                         JMP     WDT_WAKEUP      ;IF WAKEUP BY WDT TIME OUT
 123  0002            1                         endif
 123  0002            1                         ;-DISABLE ADC
 123  0002            1                         CLR [031H]
 123  0002            1                         MOV     A,01000000B
 123  0002            1                         MOV [02FH],A
 123  0002            1                         CLR [030H]
 123  0002            1 
 123  0002            1                         ;-CLEAR BANK5 580H~5FFH
 123  0002            1                         MOV     A,5
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK4 480H~4FFH
 123  0002            1                         MOV     A,4
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK3 380H~3FFH
 123  0002            1                         MOV     A,3
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK2 280H~2FFH
 123  0002            1                         MOV     A,2
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK1 180H~1FFH
 123  0002            1                         MOV     A,1
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK0 080H~0FFH
 123  0002            1                         CLR [04H]
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                 endif
 123  0002            1 
 123  0002            1                 ;--------------------------------
 123  0002            1                 ;-INITIAL FOR BS84B08C  ---------
 123  0002            1                 ;--------------------------------
 123  0002            1                 ifdef   _BS84B08C_
 123  0002            1                         ;-SET SYSTEM CLOCK
 123  0002            1                         MOV     A,(( 0<<4)^00110000B)&00110000B
 123  0002            1                         MOV [03DH],A
文件：MAIN_PROGRAM_V103.asm 编译器版本 2.98 页次29

 123  0002            1                         ;--
 123  0002            1                         MOV     A,00000011B
 123  0002            1                         MOV [0BH],A
 123  0002            1                         ;-WDT INITIAL USE 125/500MS WHEN ENABLE POWER SAVE MODE
 123  0002            1                       ;;MOV     A,01010011B     ;500   MS
 123  0002            1                         MOV     A,01010010B     ;125   MS
 123  0002            1                         MOV [01AH],A
 123  0002            1                         ;-IF POWER SAVING MODE ENABLE
 123  0002            1                         if 1==1
 123  0002            1                         SZ [0AH].5
 123  0002            1                         JMP     WDT_WAKEUP      ;IF WAKEUP BY WDT TIME OUT
 123  0002            1                         endif
 123  0002            1                         ;-DISABLE ADC
 123  0002            1                         CLR [031H]
 123  0002            1                         MOV     A,01100000B
 123  0002            1                         MOV     ADCR0,A
 123  0002            1                         CLR     ADCR1
 123  0002            1                         ;-CLEAR BANK1 080H~0FFH
 123  0002            1                         MOV     A,1
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK0 060H~0FFH
 123  0002            1                         CLR [04H]
 123  0002            1                         MOV     A,60H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                 endif
 123  0002            1                 ;--------------------------------
 123  0002            1                 ;-INITIAL FOR BS83B08C  ---------
 123  0002            1                 ;--------------------------------
 123  0002            1                 ifdef   _BS83B08C_
 123  0002            1                         ;-SET SYSTEM CLOCK
 123  0002            1                         MOV     A,(( 0<<4)^00110000B)&00110000B
 123  0002            1                         MOV [03DH],A
 123  0002            1                         ;--
 123  0002            1                         MOV     A,00000011B
 123  0002            1                         MOV [0BH],A
 123  0002            1                         ;-WDT INITIAL USE 125/500MS WHEN ENABLE POWER SAVE MODE
 123  0002            1                       ;;MOV     A,01010011B     ;500   MS
 123  0002            1                         MOV     A,01010010B     ;125   MS
 123  0002            1                         MOV [01AH],A
 123  0002            1                         ;-IF POWER SAVING MODE ENABLE
 123  0002            1                         if 1==1
 123  0002            1                         SZ [0AH].5
 123  0002            1                         JMP     WDT_WAKEUP      ;IF WAKEUP BY WDT TIME OUT
 123  0002            1                         endif
 123  0002            1                         ;-CLEAR BANK1 080H~0FFH
 123  0002            1                         MOV     A,1
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK0 060H~0FFH
 123  0002            1                         CLR [04H]
 123  0002            1                         MOV     A,60H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                 endif
 123  0002            1 
 123  0002            1                 ;--------------------------------
 123  0002            1                 ;-INITIAL FOR BS45F5930 ---------
 123  0002            1                 ;--------------------------------
文件：MAIN_PROGRAM_V103.asm 编译器版本 2.98 页次30

 123  0002            1                 ifdef   _BS45F5930_
 123  0002            1                         MOV     A,00011111B
 123  0002            1                         ANDM    A,SCC
 123  0002            1 
 123  0002            1                         ;-WDT INITIAL USE 125/500MS WHEN ENABLE POWER SAVE MODE
 123  0002            1                       ;;MOV     A,01010011B     ;500   MS
 123  0002            1                         MOV     A,01010010B     ;125   MS
 123  0002            1                         MOV [01AH],A
 123  0002            1                         ;-IF POWER SAVING MODE ENABLE
 123  0002            1                         if 1==1
 123  0002            1                         SZ [0AH].5
 123  0002            1                         JMP     WDT_WAKEUP      ;IF WAKEUP BY WDT TIME OUT
 123  0002            1                         endif
 123  0002            1                         ;-CLEAR BANK0 040H~0FFH
 123  0002            1                         MOV     A,40H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                 endif
 123  0002            1 
 123  0002            1 
 123  0002            1 
 123  0002            1                 ;--------------------------------
 123  0002            1                 ;-INITIAL FOR BS86C08C  ---------
 123  0002            1                 ;--------------------------------
 123  0002            1                 ifdef   _BS86C08C_
 123  0002            1                         ;-SET SYSTEM CLOCK
 123  0002            1                         MOV     A,(( 0<<4)&00110000B)
 123  0002            1                         MOV [03DH],A          ;BIT7=FSYSON
 123  0002            1                         ;--                     ;BIT5:BIT4=00/11:8MHZ ; 01:12MHZ ; 10:16MHZ
 123  0002            1                         MOV     A,00000011B
 123  0002            1                         MOV [0BH],A
 123  0002            1                         ;-WDT INITIAL USE 125/500MS WHEN ENABLE POWER SAVE MODE
 123  0002            1                       ;;MOV     A,01010011B     ;500   MS
 123  0002            1                         MOV     A,01010010B     ;125   MS
 123  0002            1                         MOV [01AH],A
 123  0002            1                         ;-IF POWER SAVING MODE ENABLE
 123  0002            1                         if 1==1
 123  0002            1                         SZ [0AH].5
 123  0002            1                         JMP     WDT_WAKEUP      ;IF WAKEUP BY WDT TIME OUT
 123  0002            1                         endif
 123  0002            1                         ;-DISABLE ADC
 123  0002            1                         CLR [031H]
 123  0002            1                         MOV     A,00000000B
 123  0002            1                         MOV [02FH],A
 123  0002            1                         CLR [030H]
 123  0002            1                         ;-CLEAR BANK3 380H~2FFH
 123  0002            1                         MOV     A,3
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK2 280H~2FFH
 123  0002            1                         MOV     A,2
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK1 180H~1FFH
 123  0002            1                         MOV     A,1
 123  0002            1                         MOV [04H],A
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                         ;-CLEAR BANK0 080H~0FFH
文件：MAIN_PROGRAM_V103.asm 编译器版本 2.98 页次31

 123  0002            1                         CLR [04H]
 123  0002            1                         MOV     A,80H
 123  0002            1                         CALL    CLEAR_RAM
 123  0002            1                 endif
 123  0002            1 
 123  0002            1                 ;--------------------------------
 123  0002            1                 ;-INITIAL FOR BS86D12C  ---------
 123  0002            1                 ;--------------------------------
 123  0002            1                 ifdef   _BS86D12C_
 123  0002            1                         ;-SET SYSTEM CLOCK
 123  0002  0F00      1                         MOV     A,(( 0<<4)&00110000B)
 123  0003  00BD      1                         MOV [03DH],A          ;BIT7=FSYSON
 123  0004            1                         ;--                     ;BIT5:BIT4=00/11:8MHZ ; 01:12MHZ ; 10:16MHZ
 123  0004  0F03      1                         MOV     A,00000011B
 123  0005  008B      1                         MOV [0BH],A
 123  0006            1                         ;-WDT INITIAL USE 125/500MS WHEN ENABLE POWER SAVE MODE
 123  0006            1                       ;;MOV     A,01010011B     ;500   MS
 123  0006  0F52      1                         MOV     A,01010010B     ;125   MS
 123  0007  009A      1                         MOV [01AH],A
 123  0008            1                         ;-IF POWER SAVING MODE ENABLE
 123  0008            1                         if 1==1
 123  0008  3E8A      1                         SZ [0AH].5
 123  0009  2800     R1                         JMP     WDT_WAKEUP      ;IF WAKEUP BY WDT TIME OUT
 123  000A            1                         endif
 123  000A            1                         ;-DISABLE ADC
 123  000A  1F31      1                         CLR [031H]
 123  000B  0F00      1                         MOV     A,00000000B
 123  000C  00AF      1                         MOV [02FH],A
 123  000D  1F30      1                         CLR [030H]
 123  000E            1                         ;-CLEAR BANK3 280H~2FFH
 123  000E  0F03      1                         MOV     A,3
 123  000F  0084      1                         MOV [04H],A
 123  0010  0F80      1                         MOV     A,80H
 123  0011  2000     R1                         CALL    CLEAR_RAM
 123  0012            1                         ;-CLEAR BANK2 280H~2FFH
 123  0012  0F02      1                         MOV     A,2
 123  0013  0084      1                         MOV [04H],A
 123  0014  0F80      1                         MOV     A,80H
 123  0015  2000     R1                         CALL    CLEAR_RAM
 123  0016            1                         ;-CLEAR BANK1 180H~1FFH
 123  0016  0F01      1                         MOV     A,1
 123  0017  0084      1                         MOV [04H],A
 123  0018  0F80      1                         MOV     A,80H
 123  0019  2000     R1                         CALL    CLEAR_RAM
 123  001A            1                         ;-CLEAR BANK0 080H~0FFH
 123  001A  1F04      1                         CLR [04H]
 123  001B  0F80      1                         MOV     A,80H
 123  001C  2000     R1                         CALL    CLEAR_RAM
 123  001D            1                 endif
 123  001D            1 
 123  001D            1                 ;--------------------------------
 123  001D            1                 ;-INITIAL FOR BS86E16C  ---------
 123  001D            1                 ;--------------------------------
 123  001D            1                 ifdef   _BS86E16C_
 123  001D            1                         ;-SET SYSTEM CLOCK
 123  001D            1                         MOV     A,(( 0<<4)&00110000B)
 123  001D            1                         MOV [03DH],A          ;BIT7=FSYSON
 123  001D            1                         ;--                     ;BIT5:BIT4=00/11:8MHZ ; 01:12MHZ ; 10:16MHZ
 123  001D            1                         MOV     A,00000011B
 123  001D            1                         MOV [0BH],A
文件：MAIN_PROGRAM_V103.asm 编译器版本 2.98 页次32

 123  001D            1                         ;-WDT INITIAL USE 125/500MS WHEN ENABLE POWER SAVE MODE
 123  001D            1                       ;;MOV     A,01010011B     ;500   MS
 123  001D            1                         MOV     A,01010010B     ;125   MS
 123  001D            1                         MOV [01AH],A
 123  001D            1                         ;-IF POWER SAVING MODE ENABLE
 123  001D            1                         if 1==1
 123  001D            1                         SZ [0AH].5
 123  001D            1                         JMP     WDT_WAKEUP      ;IF WAKEUP BY WDT TIME OUT
 123  001D            1                         endif
 123  001D            1                         ;-DISABLE ADC
 123  001D            1                         CLR [031H]
 123  001D            1                         MOV     A,00000000B
 123  001D            1                         MOV [02FH],A
 123  001D            1                         CLR [030H]
 123  001D            1                         ;-CLEAR BANK5 580H~2FFH
 123  001D            1                         MOV     A,5
 123  001D            1                         MOV [04H],A
 123  001D            1                         MOV     A,80H
 123  001D            1                         CALL    CLEAR_RAM
 123  001D            1                         ;-CLEAR BANK4 480H~2FFH
 123  001D            1                         MOV     A,4
 123  001D            1                         MOV [04H],A
 123  001D            1                         MOV     A,80H
 123  001D            1                         CALL    CLEAR_RAM
 123  001D            1                         ;-CLEAR BANK3 380H~2FFH
 123  001D            1                         MOV     A,3
 123  001D            1                         MOV [04H],A
 123  001D            1                         MOV     A,80H
 123  001D            1                         CALL    CLEAR_RAM
 123  001D            1                         ;-CLEAR BANK2 280H~2FFH
 123  001D            1                         MOV     A,2
 123  001D            1                         MOV [04H],A
 123  001D            1                         MOV     A,80H
 123  001D            1                         CALL    CLEAR_RAM
 123  001D            1                         ;-CLEAR BANK1 180H~1FFH
 123  001D            1                         MOV     A,1
 123  001D            1                         MOV [04H],A
 123  001D            1                         MOV     A,80H
 123  001D            1                         CALL    CLEAR_RAM
 123  001D            1                         ;-CLEAR BANK0 080H~0FFH
 123  001D            1                         CLR [04H]
 123  001D            1                         MOV     A,80H
 123  001D            1                         CALL    CLEAR_RAM
 123  001D            1                 endif
 123  001D            1 
 123  001D            1 
 123  001D            1                 ;--------------------------------
 123  001D            1                 ;-INITIAL FOR BS83B24C  ---------
 123  001D            1                 ;--------------------------------
 123  001D            1                 ifdef   _BS83B24C_
 123  001D            1 
 123  001D            1                         MOV     A,00011111B
 123  001D            1                         ANDM    A,SCC
 123  001D            1                         ;--                        ;BIT3:BIT2=00/11:8MHZ ; 01:12MHZ ; 10:16MHZ
 123  001D            1                         MOV     A,(( 0<<2)&00001100B)|00000001B
 123  001D            1                         MOV     HIRCC,A          ;
 123  001D            1 
 123  001D            1                         ;-WDT INITIAL USE 125/500MS WHEN ENABLE POWER SAVE MODE
 123  001D            1                       ;;MOV     A,01010011B     ;500   MS
 123  001D            1                         MOV     A,01010010B     ;125   MS
文件：MAIN_PROGRAM_V103.asm 编译器版本 2.98 页次33

 123  001D            1                         MOV [01AH],A
 123  001D            1                         ;-IF POWER SAVING MODE ENABLE
 123  001D            1                         if 1==1
 123  001D            1                         SZ [0AH].5
 123  001D            1                         JMP     WDT_WAKEUP      ;IF WAKEUP BY WDT TIME OUT
 123  001D            1                         endif
 123  001D            1                         ;-CLEAR BANK3 280H~2FFH
 123  001D            1                         MOV     A,3
 123  001D            1                         MOV [04H],A
 123  001D            1                         MOV     A,80H
 123  001D            1                         CALL    CLEAR_RAM
 123  001D            1                         ;-CLEAR BANK2 280H~2FFH
 123  001D            1                         MOV     A,2
 123  001D            1                         MOV [04H],A
 123  001D            1                         MOV     A,80H
 123  001D            1                         CALL    CLEAR_RAM
 123  001D            1                         ;-CLEAR BANK1 180H~1FFH
 123  001D            1                         MOV     A,1
 123  001D            1                         MOV [04H],A
 123  001D            1                         MOV     A,80H
 123  001D            1                         CALL    CLEAR_RAM
 123  001D            1                         ;-CLEAR BANK0 080H~0FFH
 123  001D            1                         CLR [04H]
 123  001D            1                         MOV     A,80H
 123  001D            1                         CALL    CLEAR_RAM
 123  001D            1                 endif
 123  001D            1 
 123  001D            1 
 123  001D            1                 ;--------------------------------
 123  001D            1                 ;-INITIAL FOR BS83B12C  ---------
 123  001D            1                 ;--------------------------------
 123  001D            1                 ifdef   _BS83B12C_
 123  001D            1                         ;-SET SYSTEM CLOCK
 123  001D            1                         MOV     A,(( 0<<4)^00110000B)&00110000B
 123  001D            1                         MOV [03DH],A
 123  001D            1                         ;--
 123  001D            1                         MOV     A,00000011B
 123  001D            1                         MOV [0BH],A
 123  001D            1                         ;-WDT INITIAL USE 125/500MS WHEN ENABLE POWER SAVE MODE
 123  001D            1                       ;;MOV     A,01010011B     ;500   MS
 123  001D            1                         MOV     A,01010010B     ;125   MS
 123  001D            1                         MOV [01AH],A
 123  001D            1                         ;-IF POWER SAVING MODE ENABLE
 123  001D            1                         if 1==1
 123  001D            1                         SZ [0AH].5
 123  001D            1                         JMP     WDT_WAKEUP      ;IF WAKEUP BY WDT TIME OUT
 123  001D            1                         endif
 123  001D            1                         ;-CLEAR BANK2 080H~0FFH
 123  001D            1                         MOV     A,1
 123  001D            1                         MOV [04H],A
 123  001D            1                         MOV     A,80H
 123  001D            1                         CALL    CLEAR_RAM
 123  001D            1                         ;-CLEAR BANK1 080H~0FFH
 123  001D            1                         MOV     A,1
 123  001D            1                         MOV [04H],A
 123  001D            1                         MOV     A,80H
 123  001D            1                         CALL    CLEAR_RAM
 123  001D            1                         ;-CLEAR BANK0 060H~0FFH
 123  001D            1                         CLR [04H]
 123  001D            1                         MOV     A,80H
文件：MAIN_PROGRAM_V103.asm 编译器版本 2.98 页次34

 123  001D            1                         CALL    CLEAR_RAM
 123  001D            1                 endif
 123  001D            1 
 123  001D            1                 ;--------------------------------
 123  001D            1                 ;-INITIAL FOR BS83B16C  ---------
 123  001D            1                 ;--------------------------------
 123  001D            1                 ifdef   _BS83B16C_
 123  001D            1                         ;-SET SYSTEM CLOCK
 123  001D            1                         MOV     A,(( 0<<4)^00110000B)&00110000B
 123  001D            1                         MOV [03DH],A
 123  001D            1                         ;--
 123  001D            1                         MOV     A,00000011B
 123  001D            1                         MOV [0BH],A
 123  001D            1                         ;-WDT INITIAL USE 125/500MS WHEN ENABLE POWER SAVE MODE
 123  001D            1                       ;;MOV     A,01010011B     ;500   MS
 123  001D            1                         MOV     A,01010010B     ;125   MS
 123  001D            1                         MOV [01AH],A
 123  001D            1                         ;-IF POWER SAVING MODE ENABLE
 123  001D            1                         if 1==1
 123  001D            1                         SZ [0AH].5
 123  001D            1                         JMP     WDT_WAKEUP      ;IF WAKEUP BY WDT TIME OUT
 123  001D            1                         endif
 123  001D            1                         ;-CLEAR BANK2 080H~0FFH
 123  001D            1                         MOV     A,1
 123  001D            1                         MOV [04H],A
 123  001D            1                         MOV     A,80H
 123  001D            1                         CALL    CLEAR_RAM
 123  001D            1                         ;-CLEAR BANK1 080H~0FFH
 123  001D            1                         MOV     A,1
 123  001D            1                         MOV [04H],A
 123  001D            1                         MOV     A,80H
 123  001D            1                         CALL    CLEAR_RAM
 123  001D            1                         ;-CLEAR BANK0 060H~0FFH
 123  001D            1                         CLR [04H]
 123  001D            1                         MOV     A,80H
 123  001D            1                         CALL    CLEAR_RAM
 123  001D            1                 endif
 123  001D            1 
 124  001D              
 125  001D                              ;------------------------------
 126  001D                              ;-LOAD LIBRARY OPTION/THRESHOLD
 127  001D                              ;------------------------------
 128  001D  2000     R                  CALL    _LOAD_TKS_GLOBE_VARIES
 129  001E              
 130  001E                              ;------------------------
 131  001E                              ;-EXTEND FUNCTION INITIAL
 132  001E                              ;------------------------
 133  001E                              EXTEND_FUNCTION_INITIAL
 133  001E            1                 CALL_   EXTEND_FUNCTION_1A_INITIAL
 133  001E            2         ifdef EXTEND_FUNCTION_1A_INITIAL
 133  001E            2                 ifdef   PBP
 133  001E            2                 MOV     A,bank _BS86D12C_LIBV413_INITIAL
 133  001E            2                 MOV     PBP,A
 133  001E            2                 endif
 133  001E  2000     E2                 CALL _BS86D12C_LIBV413_INITIAL
 133  001F            2         endif
 133  001F            1                 CALL_   EXTEND_FUNCTION_1B_INITIAL
 133  001F            2         ifdef EXTEND_FUNCTION_1B_INITIAL
 133  001F            2                 ifdef   PBP
 133  001F            2                 MOV     A,bank _HXT_EDITOR_V100_INITIAL
文件：MAIN_PROGRAM_V103.asm 编译器版本 2.98 页次35

 133  001F            2                 MOV     PBP,A
 133  001F            2                 endif
 133  001F  2000     E2                 CALL _HXT_EDITOR_V100_INITIAL
 133  0020            2         endif
 133  0020            1                 CALL_   EXTEND_FUNCTION_1C_INITIAL
 133  0020            2         ifdef EXTEND_FUNCTION_1C_INITIAL
 133  0020            2                 ifdef   PBP
 133  0020            2                 MOV     A,bank EXTEND_FUNCTION_1C_INITIAL
 133  0020            2                 MOV     PBP,A
 133  0020            2                 endif
 133  0020            2                 CALL EXTEND_FUNCTION_1C_INITIAL
 133  0020            2         endif
 133  0020            1                 CALL_   EXTEND_FUNCTION_1D_INITIAL
 133  0020            2         ifdef EXTEND_FUNCTION_1D_INITIAL
 133  0020            2                 ifdef   PBP
 133  0020            2                 MOV     A,bank _USER_PROGRAM_INITIAL
 133  0020            2                 MOV     PBP,A
 133  0020            2                 endif
 133  0020  2000     E2                 CALL _USER_PROGRAM_INITIAL
 133  0021            2         endif
 133  0021            1                 CALL_   EXTEND_FUNCTION_1E_INITIAL
 133  0021            2         ifdef EXTEND_FUNCTION_1E_INITIAL
 133  0021            2                 ifdef   PBP
 133  0021            2                 MOV     A,bank EXTEND_FUNCTION_1E_INITIAL
 133  0021            2                 MOV     PBP,A
 133  0021            2                 endif
 133  0021            2                 CALL EXTEND_FUNCTION_1E_INITIAL
 133  0021            2         endif
 133  0021            1                 CALL_   EXTEND_FUNCTION_1F_INITIAL
 133  0021            2         ifdef EXTEND_FUNCTION_1F_INITIAL
 133  0021            2                 ifdef   PBP
 133  0021            2                 MOV     A,bank EXTEND_FUNCTION_1F_INITIAL
 133  0021            2                 MOV     PBP,A
 133  0021            2                 endif
 133  0021            2                 CALL EXTEND_FUNCTION_1F_INITIAL
 133  0021            2         endif
 133  0021            1                 CALL_   EXTEND_FUNCTION_1G_INITIAL
 133  0021            2         ifdef EXTEND_FUNCTION_1G_INITIAL
 133  0021            2                 ifdef   PBP
 133  0021            2                 MOV     A,bank EXTEND_FUNCTION_1G_INITIAL
 133  0021            2                 MOV     PBP,A
 133  0021            2                 endif
 133  0021            2                 CALL EXTEND_FUNCTION_1G_INITIAL
 133  0021            2         endif
 133  0021            1                 CALL_   EXTEND_FUNCTION_1H_INITIAL
 133  0021            2         ifdef EXTEND_FUNCTION_1H_INITIAL
 133  0021            2                 ifdef   PBP
 133  0021            2                 MOV     A,bank EXTEND_FUNCTION_1H_INITIAL
 133  0021            2                 MOV     PBP,A
 133  0021            2                 endif
 133  0021            2                 CALL EXTEND_FUNCTION_1H_INITIAL
 133  0021            2         endif
 133  0021            1 
 133  0021            1                 CALL_   EXTEND_FUNCTION_2A_INITIAL
 133  0021            2         ifdef EXTEND_FUNCTION_2A_INITIAL
 133  0021            2                 ifdef   PBP
 133  0021            2                 MOV     A,bank EXTEND_FUNCTION_2A_INITIAL
 133  0021            2                 MOV     PBP,A
 133  0021            2                 endif
 133  0021            2                 CALL EXTEND_FUNCTION_2A_INITIAL
文件：MAIN_PROGRAM_V103.asm 编译器版本 2.98 页次36

 133  0021            2         endif
 133  0021            1                 CALL_   EXTEND_FUNCTION_2B_INITIAL
 133  0021            2         ifdef EXTEND_FUNCTION_2B_INITIAL
 133  0021            2                 ifdef   PBP
 133  0021            2                 MOV     A,bank EXTEND_FUNCTION_2B_INITIAL
 133  0021            2                 MOV     PBP,A
 133  0021            2                 endif
 133  0021            2                 CALL EXTEND_FUNCTION_2B_INITIAL
 133  0021            2         endif
 133  0021            1                 CALL_   EXTEND_FUNCTION_2C_INITIAL
 133  0021            2         ifdef EXTEND_FUNCTION_2C_INITIAL
 133  0021            2                 ifdef   PBP
 133  0021            2                 MOV     A,bank EXTEND_FUNCTION_2C_INITIAL
 133  0021            2                 MOV     PBP,A
 133  0021            2                 endif
 133  0021            2                 CALL EXTEND_FUNCTION_2C_INITIAL
 133  0021            2         endif
 133  0021            1                 CALL_   EXTEND_FUNCTION_2D_INITIAL
 133  0021            2         ifdef EXTEND_FUNCTION_2D_INITIAL
 133  0021            2                 ifdef   PBP
 133  0021            2                 MOV     A,bank EXTEND_FUNCTION_2D_INITIAL
 133  0021            2                 MOV     PBP,A
 133  0021            2                 endif
 133  0021            2                 CALL EXTEND_FUNCTION_2D_INITIAL
 133  0021            2         endif
 133  0021            1                 CALL_   EXTEND_FUNCTION_2E_INITIAL
 133  0021            2         ifdef EXTEND_FUNCTION_2E_INITIAL
 133  0021            2                 ifdef   PBP
 133  0021            2                 MOV     A,bank EXTEND_FUNCTION_2E_INITIAL
 133  0021            2                 MOV     PBP,A
 133  0021            2                 endif
 133  0021            2                 CALL EXTEND_FUNCTION_2E_INITIAL
 133  0021            2         endif
 133  0021            1                 CALL_   EXTEND_FUNCTION_2F_INITIAL
 133  0021            2         ifdef EXTEND_FUNCTION_2F_INITIAL
 133  0021            2                 ifdef   PBP
 133  0021            2                 MOV     A,bank EXTEND_FUNCTION_2F_INITIAL
 133  0021            2                 MOV     PBP,A
 133  0021            2                 endif
 133  0021            2                 CALL EXTEND_FUNCTION_2F_INITIAL
 133  0021            2         endif
 133  0021            1                 CALL_   EXTEND_FUNCTION_2G_INITIAL
 133  0021            2         ifdef EXTEND_FUNCTION_2G_INITIAL
 133  0021            2                 ifdef   PBP
 133  0021            2                 MOV     A,bank EXTEND_FUNCTION_2G_INITIAL
 133  0021            2                 MOV     PBP,A
 133  0021            2                 endif
 133  0021            2                 CALL EXTEND_FUNCTION_2G_INITIAL
 133  0021            2         endif
 133  0021            1                 CALL_   EXTEND_FUNCTION_2H_INITIAL
 133  0021            2         ifdef EXTEND_FUNCTION_2H_INITIAL
 133  0021            2                 ifdef   PBP
 133  0021            2                 MOV     A,bank EXTEND_FUNCTION_2H_INITIAL
 133  0021            2                 MOV     PBP,A
 133  0021            2                 endif
 133  0021            2                 CALL EXTEND_FUNCTION_2H_INITIAL
 133  0021            2         endif
 134  0021              
 135  0021                              ;;-----------------------
 136  0021              MAIN_LOOP:      ;;- MAIN PROGRAM LOOP ---
文件：MAIN_PROGRAM_V103.asm 编译器版本 2.98 页次37

 137  0021                              ;;-----------------------
 138  0021  0001                        CLR     WDT
 139  0022  0001                        CLR     WDT1
 140  0023  0005                        CLR     WDT2
 141  0024                              ;----------------
 142  0024                              ;-CHECK POR ID --
 143  0024                              ;----------------
 144  0024                      ifndef  ESCpowerIDcheck
 145  0024  0F42                        MOV     A,042H
 146  0025  0480     R                  XORM    A,POR_ID[0]
 147  0026  0F53                        MOV     A,053H
 148  0027  3D0A                        SZ      Z
 149  0028  0480     R                  XORM    A,POR_ID[1]
 150  0029  390A                        SNZ     Z
 151  002A  2800                        JMP     000H
 152  002B                      endif
 153  002B                              ;----------------------
 154  002B                              ;-RE INITIAL SYS. CLOCK
 155  002B                              ;----------------------
 156  002B                              RELOAD_SYS_CLOCK
 156  002B            1                 ifdef   _BS83A02A_
 156  002B            1                         MOV     A,00000011B
 156  002B            1                         MOV [0BH],A
 156  002B            1 
 156  002B            1                 endif
 156  002B            1 
 156  002B            1 
 156  002B            1                 ;--------------------------------
 156  002B            1                 ;-INITIAL FOR BS83A04A  ---------
 156  002B            1                 ;--------------------------------
 156  002B            1                 ifdef   _BS83A04A_
 156  002B            1                         MOV     A,00000011B
 156  002B            1                         MOV [0BH],A
 156  002B            1                 endif
 156  002B            1 
 156  002B            1                 ;--------------------------------
 156  002B            1                 ;-INITIAL FOR BS83B04A  ---------
 156  002B            1                 ;--------------------------------
 156  002B            1                 ifdef   _BS83B04A_
 156  002B            1                         MOV     A,00000011B
 156  002B            1                         MOV [0BH],A
 156  002B            1                 endif
 156  002B            1 
 156  002B            1                 ;--------------------------------
 156  002B            1                 ;-INITIAL FOR BS83B08A  ---------
 156  002B            1                 ;--------------------------------
 156  002B            1                 ifdef   _BS83B08A_
 156  002B            1                         ;-SET SYSTEM CLOCK
 156  002B            1                         MOV     A,(( 0<<4)^00110000B)&00110000B
 156  002B            1                         MOV [03DH],A
 156  002B            1                         ;--
 156  002B            1                         MOV     A,00000011B
 156  002B            1                         MOV [0BH],A
 156  002B            1                 endif
 156  002B            1 
 156  002B            1                 ;--------------------------------
 156  002B            1                 ;-INITIAL FOR BS83B12A  ---------
 156  002B            1                 ;--------------------------------
 156  002B            1                 ifdef   _BS83B12A_
 156  002B            1                         ;-SET SYSTEM CLOCK
文件：MAIN_PROGRAM_V103.asm 编译器版本 2.98 页次38

 156  002B            1                         MOV     A,(( 0<<4)^00110000B)&00110000B
 156  002B            1                         MOV [03DH],A
 156  002B            1                         ;--
 156  002B            1                         MOV     A,00000011B
 156  002B            1                         MOV [0BH],A
 156  002B            1                 endif
 156  002B            1 
 156  002B            1                 ;--------------------------------
 156  002B            1                 ;-INITIAL FOR BS83B16A  ---------
 156  002B            1                 ;--------------------------------
 156  002B            1                 ifdef   _BS83B16A_
 156  002B            1                         ;-SET SYSTEM CLOCK
 156  002B            1                         MOV     A,(( 0<<4)^00110000B)&00110000B
 156  002B            1                         MOV [03DH],A
 156  002B            1                         ;--
 156  002B            1                         MOV     A,00000011B
 156  002B            1                         MOV [0BH],A
 156  002B            1                 endif
 156  002B            1 
 156  002B            1                 ;--------------------------------
 156  002B            1                 ;-INITIAL FOR BS84B06A  ---------
 156  002B            1                 ;--------------------------------
 156  002B            1                 ifdef   _BS84B06A_
 156  002B            1                         ;-SET SYSTEM CLOCK
 156  002B            1                         MOV     A,(( 0<<4)^00110000B)&00110000B
 156  002B            1                       ;;MOV     A,(SystemClock<<4)&00110000B
 156  002B            1                         MOV [03DH],A
 156  002B            1                         ;--
 156  002B            1                         MOV     A,00000011B
 156  002B            1                         MOV [0BH],A
 156  002B            1                 endif
 156  002B            1 
 156  002B            1                 ;--------------------------------
 156  002B            1                 ;-INITIAL FOR BS84B08A  ---------
 156  002B            1                 ;--------------------------------
 156  002B            1                 ifdef   _BS84B08A_
 156  002B            1                         ;-SET SYSTEM CLOCK
 156  002B            1                         MOV     A,(( 0<<4)^00110000B)&00110000B
 156  002B            1                         MOV [03DH],A
 156  002B            1                         ;--
 156  002B            1                         MOV     A,00000011B
 156  002B            1                         MOV [0BH],A
 156  002B            1                 endif
 156  002B            1 
 156  002B            1                 ;--------------------------------
 156  002B            1                 ;-INITIAL FOR BS84C12A  ---------
 156  002B            1                 ;--------------------------------
 156  002B            1                 ifdef   _BS84C12A_
 156  002B            1                         ;-SET SYSTEM CLOCK
 156  002B            1                         MOV     A,(( 0<<4)^00110000B)&00110000B
 156  002B            1                         MOV [03DH],A
 156  002B            1                         ;--
 156  002B            1                         MOV     A,00000011B
 156  002B            1                         MOV [0BH],A
 156  002B            1                 endif
 156  002B            1 
 156  002B            1 
 156  002B            1                 ;--------------------------------
 156  002B            1                 ;-INITIAL FOR BS84C16A  ---------
 156  002B            1                 ;--------------------------------
文件：MAIN_PROGRAM_V103.asm 编译器版本 2.98 页次39

 156  002B            1                 ifdef   _BS84C16A_
 156  002B            1                         ;-SET SYSTEM CLOCK
 156  002B            1                         MOV     A,(( 0<<4)&00110000B);;|10000000B
 156  002B            1                         MOV [03DH],A          ;BIT7=FSYSON
 156  002B            1                         ;--                     ;BIT5:BIT4=00/11:8MHZ ; 01:12MHZ ; 10:16MHZ
 156  002B            1                         MOV     A,00000011B
 156  002B            1                         MOV [0BH],A
 156  002B            1                 endif
 156  002B            1 
 156  002B            1                 ;--------------------------------
 156  002B            1                 ;-INITIAL FOR BS84D20A  ---------
 156  002B            1                 ;--------------------------------
 156  002B            1                 ifdef   _BS84D20A_
 156  002B            1                         ;-SET SYSTEM CLOCK
 156  002B            1                         MOV     A,(( 0<<4)&00110000B);;|10000000B
 156  002B            1                         MOV [03DH],A          ;BIT7=FSYSON
 156  002B            1                         ;--                     ;BIT5:BIT4=00/11:8MHZ ; 01:12MHZ ; 10:16MHZ
 156  002B            1                         MOV     A,00000011B
 156  002B            1                         MOV [0BH],A
 156  002B            1                 endif
 156  002B            1 
 156  002B            1 
 156  002B            1                 ;--------------------------------
 156  002B            1                 ;-INITIAL FOR BS82B16   ---------
 156  002B            1                 ;--------------------------------
 156  002B            1                 ifdef   _BS82B16_
 156  002B            1                         ;-SET SYSTEM CLOCK
 156  002B            1                         MOV     A,(( 0<<4)^00110000B)&00110000B
 156  002B            1                         MOV [03DH],A
 156  002B            1                         ;--
 156  002B            1                         MOV     A,00000011B
 156  002B            1                         MOV [0BH],A
 156  002B            1                 endif
 156  002B            1 
 156  002B            1                 ;--------------------------------
 156  002B            1                 ;-INITIAL FOR BS82B12A  ---------
 156  002B            1                 ;--------------------------------
 156  002B            1                 ifdef   _BS82B12A_
 156  002B            1                         ;-SET SYSTEM CLOCK
 156  002B            1                         MOV     A,(( 0<<4)&00110000B);;|10000000B
 156  002B            1                         MOV [03DH],A          ;BIT7=FSYSON
 156  002B            1                         ;--                     ;BIT5:BIT4=00/11:8MHZ ; 01:12MHZ ; 10:16MHZ
 156  002B            1                         MOV     A,00000011B
 156  002B            1                         MOV [0BH],A
 156  002B            1                 endif
 156  002B            1 
 156  002B            1                 ;--------------------------------
 156  002B            1                 ;-INITIAL FOR BS82C16A  ---------
 156  002B            1                 ;--------------------------------
 156  002B            1                 ifdef   _BS82C16A_
 156  002B            1                         ;-SET SYSTEM CLOCK
 156  002B            1                         MOV     A,(( 0<<4)&00110000B);;|10000000B
 156  002B            1                         MOV [03DH],A          ;BIT7=FSYSON
 156  002B            1                         ;--                     ;BIT5:BIT4=00/11:8MHZ ; 01:12MHZ ; 10:16MHZ
 156  002B            1                         MOV     A,00000011B
 156  002B            1                         MOV [0BH],A
 156  002B            1                 endif
 156  002B            1 
 156  002B            1                 ;--------------------------------
 156  002B            1                 ;-INITIAL FOR BS82D20A  ---------
文件：MAIN_PROGRAM_V103.asm 编译器版本 2.98 页次40

 156  002B            1                 ;--------------------------------
 156  002B            1                 ifdef   _BS82D20A_
 156  002B            1                         ;-SET SYSTEM CLOCK
 156  002B            1                         MOV     A,(( 0<<4)&00110000B);;|10000000B
 156  002B            1                         MOV [03DH],A          ;BIT7=FSYSON
 156  002B            1                         ;--                     ;BIT5:BIT4=00/11:8MHZ ; 01:12MHZ ; 10:16MHZ
 156  002B            1                         MOV     A,00000011B
 156  002B            1                         MOV [0BH],A
 156  002B            1                 endif
 156  002B            1 
 156  002B            1                 ;--------------------------------
 156  002B            1                 ;-INITIAL FOR BS45FH21  ---------
 156  002B            1                 ;--------------------------------
 156  002B            1                 ifdef   _BS45FH21_
 156  002B            1                         ;CLR     SCC             ;FH=Fsys/1
 156  002B            1                         MOV     A,00011111B
 156  002B            1                         ANDM    A,SCC
 156  002B            1                         SET     HIRCEN
 156  002B            1                 endif
 156  002B            1 
 156  002B            1                 ;--------------------------------
 156  002B            1                 ;-INITIAL FOR BS66F340  ---------
 156  002B            1                 ;--------------------------------
 156  002B            1                 ifdef   _BS66F340_
 156  002B            1                         ;CLR     SCC             ;FH=Fsys/1
 156  002B            1                         MOV     A,00011111B
 156  002B            1                         ANDM    A,SCC
 156  002B            1                         MOV     A,(( 0<<2)&00001100B)|00000001B
 156  002B            1                         MOV     HIRCC,A
 156  002B            1                 endif
 156  002B            1                 ;--------------------------------
 156  002B            1                 ;-INITIAL FOR BS66F350  ---------
 156  002B            1                 ;--------------------------------
 156  002B            1                 ifdef   _BS66F350_
 156  002B            1                         ;CLR     SCC             ;FH=Fsys/1
 156  002B            1                         MOV     A,00011111B
 156  002B            1                         ANDM    A,SCC
 156  002B            1                         MOV     A,(( 0<<2)&00001100B)|00000001B
 156  002B            1                         MOV     HIRCC,A
 156  002B            1                 endif
 156  002B            1 
 156  002B            1                 ;--------------------------------
 156  002B            1                 ;-INITIAL FOR BS66F360  ---------
 156  002B            1                 ;--------------------------------
 156  002B            1                 ifdef   _BS66F360_
 156  002B            1                         ;CLR     SCC             ;FH=Fsys/1
 156  002B            1                         MOV     A,00011111B
 156  002B            1                         ANDM    A,SCC
 156  002B            1                         MOV     A,(( 0<<2)&00001100B)|00000001B
 156  002B            1                         MOV     HIRCC,A
 156  002B            1                 endif
 156  002B            1 
 156  002B            1                 ;--------------------------------
 156  002B            1                 ;-INITIAL FOR BS67F340  ---------
 156  002B            1                 ;--------------------------------
 156  002B            1                 ifdef   _BS67F340_
 156  002B            1                         ;CLR     SCC             ;FH=Fsys/1
 156  002B            1                         MOV     A,00011111B
 156  002B            1                         ANDM    A,SCC
 156  002B            1                         MOV     A,(( 0<<2)&00001100B)|00000001B
文件：MAIN_PROGRAM_V103.asm 编译器版本 2.98 页次41

 156  002B            1                         MOV     HIRCC,A
 156  002B            1                 endif
 156  002B            1                 ;--------------------------------
 156  002B            1                 ;-INITIAL FOR BS67F350  ---------
 156  002B            1                 ;--------------------------------
 156  002B            1                 ifdef   _BS67F350_
 156  002B            1                         ;CLR     SCC             ;FH=Fsys/1
 156  002B            1                         MOV     A,00011111B
 156  002B            1                         ANDM    A,SCC
 156  002B            1                         MOV     A,(( 0<<2)&00001100B)|00000001B
 156  002B            1                         MOV     HIRCC,A
 156  002B            1                 endif
 156  002B            1                 ;--------------------------------
 156  002B            1                 ;-INITIAL FOR BS67F360  ---------
 156  002B            1                 ;--------------------------------
 156  002B            1                 ifdef   _BS67F360_
 156  002B            1                         ;CLR     SCC             ;FH=Fsys/1
 156  002B            1                         MOV     A,00011111B
 156  002B            1                         ANDM    A,SCC
 156  002B            1                         MOV     A,(( 0<<2)&00001100B)|00000001B
 156  002B            1                         MOV     HIRCC,A
 156  002B            1                 endif
 156  002B            1                 ;--------------------------------
 156  002B            1                 ;-INITIAL FOR BS66FV340  ---------
 156  002B            1                 ;--------------------------------
 156  002B            1                 ifdef   _BS66FV340_
 156  002B            1                         MOV     A,00011111B     ;FH=Fsys/1
 156  002B            1                         ANDM    A,SCC
 156  002B            1                         MOV     A,(( 0<<2)&00001100B)|00000001B
 156  002B            1                         MOV     HIRCC,A
 156  002B            1                 endif
 156  002B            1                 ;--------------------------------
 156  002B            1                 ;-INITIAL FOR BS66FV350  ---------
 156  002B            1                 ;--------------------------------
 156  002B            1                 ifdef   _BS66FV350_
 156  002B            1                         MOV     A,00011111B     ;FH=Fsys/1
 156  002B            1                         ANDM    A,SCC
 156  002B            1                         MOV     A,(( 0<<2)&00001100B)|00000001B
 156  002B            1                         MOV     HIRCC,A
 156  002B            1                 endif
 156  002B            1                 ;--------------------------------
 156  002B            1                 ;-INITIAL FOR BS66FV360  ---------
 156  002B            1                 ;--------------------------------
 156  002B            1                 ifdef   _BS66FV360_
 156  002B            1                         MOV     A,00011111B     ;FH=Fsys/1
 156  002B            1                         ANDM    A,SCC
 156  002B            1                         MOV     A,(( 0<<2)&00001100B)|00000001B
 156  002B            1                         MOV     HIRCC,A
 156  002B            1                 endif
 156  002B            1 
 156  002B            1                 ;--------------------------------
 156  002B            1                 ;-INITIAL FOR BS86B12A  ---------
 156  002B            1                 ;--------------------------------
 156  002B            1                 ifdef   _BS86B12A_
 156  002B            1                         ;-SET SYSTEM CLOCK
 156  002B            1                         MOV     A,(( 0<<4)&00110000B);;|10000000B
 156  002B            1                         MOV [03DH],A          ;BIT7=FSYSON
 156  002B            1                         ;--                     ;BIT5:BIT4=00/11:8MHZ ; 01:12MHZ ; 10:16MHZ
 156  002B            1                         MOV     A,00000011B
 156  002B            1                         MOV [0BH],A
文件：MAIN_PROGRAM_V103.asm 编译器版本 2.98 页次42

 156  002B            1                 endif
 156  002B            1 
 156  002B            1                 ;--------------------------------
 156  002B            1                 ;-INITIAL FOR BS86C16A  ---------
 156  002B            1                 ;--------------------------------
 156  002B            1                 ifdef   _BS86C16A_
 156  002B            1                         ;-SET SYSTEM CLOCK
 156  002B            1                         MOV     A,(( 0<<4)&00110000B);;|10000000B
 156  002B            1                         MOV [03DH],A          ;BIT7=FSYSON
 156  002B            1                         ;--                     ;BIT5:BIT4=00/11:8MHZ ; 01:12MHZ ; 10:16MHZ
 156  002B            1                         MOV     A,00000011B
 156  002B            1                         MOV [0BH],A
 156  002B            1                 endif
 156  002B            1 
 156  002B            1                 ;--------------------------------
 156  002B            1                 ;-INITIAL FOR BS86D20A  ---------
 156  002B            1                 ;--------------------------------
 156  002B            1                 ifdef   _BS86D20A_
 156  002B            1                         ;-SET SYSTEM CLOCK
 156  002B            1                         MOV     A,(( 0<<4)&00110000B);;|10000000B
 156  002B            1                         MOV [03DH],A          ;BIT7=FSYSON
 156  002B            1                         ;--                     ;BIT5:BIT4=00/11:8MHZ ; 01:12MHZ ; 10:16MHZ
 156  002B            1                         MOV     A,00000011B
 156  002B            1                         MOV [0BH],A
 156  002B            1                 endif
 156  002B            1 
 156  002B            1                 ;--------------------------------
 156  002B            1                 ;-INITIAL FOR BS87C16A  ---------
 156  002B            1                 ;--------------------------------
 156  002B            1                 ifdef   _BS87C16A_
 156  002B            1                         ;-SET SYSTEM CLOCK
 156  002B            1                         MOV     A,(( 0<<4)&00110000B);;|10000000B
 156  002B            1                         MOV [03DH],A          ;BIT7=FSYSON
 156  002B            1                         ;--                     ;BIT5:BIT4=00/11:8MHZ ; 01:12MHZ ; 10:16MHZ
 156  002B            1                         MOV     A,00000011B
 156  002B            1                         MOV [0BH],A
 156  002B            1                 endif
 156  002B            1 
 156  002B            1                 ;--------------------------------
 156  002B            1                 ;-INITIAL FOR BS87B12A  ---------
 156  002B            1                 ;--------------------------------
 156  002B            1                 ifdef   _BS87B12A_
 156  002B            1                         ;-SET SYSTEM CLOCK
 156  002B            1                         MOV     A,(( 0<<4)&00110000B);;|10000000B
 156  002B            1                         MOV [03DH],A          ;BIT7=FSYSON
 156  002B            1                         ;--                     ;BIT5:BIT4=00/11:8MHZ ; 01:12MHZ ; 10:16MHZ
 156  002B            1                         MOV     A,00000011B
 156  002B            1                         MOV [0BH],A
 156  002B            1                 endif
 156  002B            1 
 156  002B            1                 ;--------------------------------
 156  002B            1                 ;-INITIAL FOR BS87D20A  ---------
 156  002B            1                 ;--------------------------------
 156  002B            1                 ifdef   _BS87D20A_
 156  002B            1                         ;-SET SYSTEM CLOCK
 156  002B            1                         MOV     A,(( 0<<4)&00110000B);;|10000000B
 156  002B            1                         MOV [03DH],A          ;BIT7=FSYSON
 156  002B            1                         ;--                     ;BIT5:BIT4=00/11:8MHZ ; 01:12MHZ ; 10:16MHZ
 156  002B            1                         MOV     A,00000011B
 156  002B            1                         MOV [0BH],A
文件：MAIN_PROGRAM_V103.asm 编译器版本 2.98 页次43

 156  002B            1                 endif
 156  002B            1 
 156  002B            1 
 156  002B            1 
 156  002B            1                 ;--------------------------------
 156  002B            1                 ;-INITIAL FOR BS45F5930  ---------
 156  002B            1                 ;--------------------------------
 156  002B            1                 ifdef   _BS45F5930_
 156  002B            1                         MOV     A,00000000B
 156  002B            1                         ;MOV     SMOD,A
 156  002B            1                         MOV     SCC,A
 156  002B            1                 endif
 156  002B            1 
 156  002B            1                 ;--------------------------------
 156  002B            1                 ;-INITIAL FOR BS86C08C  ---------
 156  002B            1                 ;--------------------------------
 156  002B            1                 ifdef   _BS86C08C_
 156  002B            1                         ;-SET SYSTEM CLOCK
 156  002B            1                         MOV     A,(( 0<<4)&00110000B);;|10000000B
 156  002B            1                         MOV [03DH],A          ;BIT7=FSYSON
 156  002B            1                         ;--                     ;BIT5:BIT4=00/11:8MHZ ; 01:12MHZ ; 10:16MHZ
 156  002B            1                         MOV     A,00000011B
 156  002B            1                         MOV [0BH],A
 156  002B            1                 endif
 156  002B            1 
 156  002B            1                 ;--------------------------------
 156  002B            1                 ;-INITIAL FOR BS86D12C  ---------
 156  002B            1                 ;--------------------------------
 156  002B            1                 ifdef   _BS86D12C_
 156  002B            1                         ;-SET SYSTEM CLOCK
 156  002B  0F00      1                         MOV     A,(( 0<<4)&00110000B);;|10000000B
 156  002C  00BD      1                         MOV [03DH],A          ;BIT7=FSYSON
 156  002D            1                         ;--                     ;BIT5:BIT4=00/11:8MHZ ; 01:12MHZ ; 10:16MHZ
 156  002D  0F03      1                         MOV     A,00000011B
 156  002E  008B      1                         MOV [0BH],A
 156  002F            1                 endif
 156  002F            1 
 156  002F            1                 ;--------------------------------
 156  002F            1                 ;-INITIAL FOR BS86E16C  ---------
 156  002F            1                 ;--------------------------------
 156  002F            1                 ifdef   _BS86E16C_
 156  002F            1                         ;-SET SYSTEM CLOCK
 156  002F            1                         MOV     A,(( 0<<4)&00110000B);;|10000000B
 156  002F            1                         MOV [03DH],A          ;BIT7=FSYSON
 156  002F            1                         ;--                     ;BIT5:BIT4=00/11:8MHZ ; 01:12MHZ ; 10:16MHZ
 156  002F            1                         MOV     A,00000011B
 156  002F            1                         MOV [0BH],A
 156  002F            1                 endif
 156  002F            1                 ;--------------------------------
 156  002F            1                 ;-INITIAL FOR BS83B24C  ---------
 156  002F            1                 ;--------------------------------
 156  002F            1                 ifdef   _BS83B24C_
 156  002F            1                         MOV     A,00011111B
 156  002F            1                         ANDM    A,SCC
 156  002F            1                         MOV     A,(( 0<<2)&00001100B)|00000001B
 156  002F            1                         MOV     HIRCC,A
 156  002F            1                 endif
 156  002F            1 
 156  002F            1                 ;--------------------------------
 156  002F            1                 ;-INITIAL FOR BS83B12C  ---------
文件：MAIN_PROGRAM_V103.asm 编译器版本 2.98 页次44

 156  002F            1                 ;--------------------------------
 156  002F            1                 ifdef   _BS83B12C_
 156  002F            1                         ;-SET SYSTEM CLOCK
 156  002F            1                         MOV     A,(( 0<<4)^00110000B)&00110000B
 156  002F            1                         MOV [03DH],A
 156  002F            1                         ;--
 156  002F            1                         MOV     A,00000011B
 156  002F            1                         MOV [0BH],A
 156  002F            1                 endif
 156  002F            1 
 156  002F            1                 ;--------------------------------
 156  002F            1                 ;-INITIAL FOR BS83B16C  ---------
 156  002F            1                 ;--------------------------------
 156  002F            1                 ifdef   _BS83B16C_
 156  002F            1                         ;-SET SYSTEM CLOCK
 156  002F            1                         MOV     A,(( 0<<4)^00110000B)&00110000B
 156  002F            1                         MOV [03DH],A
 156  002F            1                         ;--
 156  002F            1                         MOV     A,00000011B
 156  002F            1                         MOV [0BH],A
 156  002F            1                 endif
 157  002F                              EXTEND_FUNCTION
 157  002F            1                 CALL_   EXTEND_FUNCTION_1A
 157  002F            2         ifdef EXTEND_FUNCTION_1A
 157  002F            2                 ifdef   PBP
 157  002F            2                 MOV     A,bank _BS86D12C_LIBV413
 157  002F            2                 MOV     PBP,A
 157  002F            2                 endif
 157  002F  2000     E2                 CALL _BS86D12C_LIBV413
 157  0030            2         endif
 157  0030            1                 CALL_   EXTEND_FUNCTION_1B
 157  0030            2         ifdef EXTEND_FUNCTION_1B
 157  0030            2                 ifdef   PBP
 157  0030            2                 MOV     A,bank _HXT_EDITOR_V100
 157  0030            2                 MOV     PBP,A
 157  0030            2                 endif
 157  0030  2000     E2                 CALL _HXT_EDITOR_V100
 157  0031            2         endif
 157  0031            1                 CALL_   EXTEND_FUNCTION_1C
 157  0031            2         ifdef EXTEND_FUNCTION_1C
 157  0031            2                 ifdef   PBP
 157  0031            2                 MOV     A,bank EXTEND_FUNCTION_1C
 157  0031            2                 MOV     PBP,A
 157  0031            2                 endif
 157  0031            2                 CALL EXTEND_FUNCTION_1C
 157  0031            2         endif
 157  0031            1                 CALL_   EXTEND_FUNCTION_1D
 157  0031            2         ifdef EXTEND_FUNCTION_1D
 157  0031            2                 ifdef   PBP
 157  0031            2                 MOV     A,bank _USER_PROGRAM
 157  0031            2                 MOV     PBP,A
 157  0031            2                 endif
 157  0031  2000     E2                 CALL _USER_PROGRAM
 157  0032            2         endif
 157  0032            1                 CALL_   EXTEND_FUNCTION_1E
 157  0032            2         ifdef EXTEND_FUNCTION_1E
 157  0032            2                 ifdef   PBP
 157  0032            2                 MOV     A,bank EXTEND_FUNCTION_1E
 157  0032            2                 MOV     PBP,A
 157  0032            2                 endif
文件：MAIN_PROGRAM_V103.asm 编译器版本 2.98 页次45

 157  0032            2                 CALL EXTEND_FUNCTION_1E
 157  0032            2         endif
 157  0032            1                 CALL_   EXTEND_FUNCTION_1F
 157  0032            2         ifdef EXTEND_FUNCTION_1F
 157  0032            2                 ifdef   PBP
 157  0032            2                 MOV     A,bank EXTEND_FUNCTION_1F
 157  0032            2                 MOV     PBP,A
 157  0032            2                 endif
 157  0032            2                 CALL EXTEND_FUNCTION_1F
 157  0032            2         endif
 157  0032            1                 CALL_   EXTEND_FUNCTION_1G
 157  0032            2         ifdef EXTEND_FUNCTION_1G
 157  0032            2                 ifdef   PBP
 157  0032            2                 MOV     A,bank EXTEND_FUNCTION_1G
 157  0032            2                 MOV     PBP,A
 157  0032            2                 endif
 157  0032            2                 CALL EXTEND_FUNCTION_1G
 157  0032            2         endif
 157  0032            1                 CALL_   EXTEND_FUNCTION_1H
 157  0032            2         ifdef EXTEND_FUNCTION_1H
 157  0032            2                 ifdef   PBP
 157  0032            2                 MOV     A,bank EXTEND_FUNCTION_1H
 157  0032            2                 MOV     PBP,A
 157  0032            2                 endif
 157  0032            2                 CALL EXTEND_FUNCTION_1H
 157  0032            2         endif
 157  0032            1 
 157  0032            1                 CALL_   EXTEND_FUNCTION_2A
 157  0032            2         ifdef EXTEND_FUNCTION_2A
 157  0032            2                 ifdef   PBP
 157  0032            2                 MOV     A,bank EXTEND_FUNCTION_2A
 157  0032            2                 MOV     PBP,A
 157  0032            2                 endif
 157  0032            2                 CALL EXTEND_FUNCTION_2A
 157  0032            2         endif
 157  0032            1                 CALL_   EXTEND_FUNCTION_2B
 157  0032            2         ifdef EXTEND_FUNCTION_2B
 157  0032            2                 ifdef   PBP
 157  0032            2                 MOV     A,bank EXTEND_FUNCTION_2B
 157  0032            2                 MOV     PBP,A
 157  0032            2                 endif
 157  0032            2                 CALL EXTEND_FUNCTION_2B
 157  0032            2         endif
 157  0032            1                 CALL_   EXTEND_FUNCTION_2C
 157  0032            2         ifdef EXTEND_FUNCTION_2C
 157  0032            2                 ifdef   PBP
 157  0032            2                 MOV     A,bank EXTEND_FUNCTION_2C
 157  0032            2                 MOV     PBP,A
 157  0032            2                 endif
 157  0032            2                 CALL EXTEND_FUNCTION_2C
 157  0032            2         endif
 157  0032            1                 CALL_   EXTEND_FUNCTION_2D
 157  0032            2         ifdef EXTEND_FUNCTION_2D
 157  0032            2                 ifdef   PBP
 157  0032            2                 MOV     A,bank EXTEND_FUNCTION_2D
 157  0032            2                 MOV     PBP,A
 157  0032            2                 endif
 157  0032            2                 CALL EXTEND_FUNCTION_2D
 157  0032            2         endif
 157  0032            1                 CALL_   EXTEND_FUNCTION_2E
文件：MAIN_PROGRAM_V103.asm 编译器版本 2.98 页次46

 157  0032            2         ifdef EXTEND_FUNCTION_2E
 157  0032            2                 ifdef   PBP
 157  0032            2                 MOV     A,bank EXTEND_FUNCTION_2E
 157  0032            2                 MOV     PBP,A
 157  0032            2                 endif
 157  0032            2                 CALL EXTEND_FUNCTION_2E
 157  0032            2         endif
 157  0032            1                 CALL_   EXTEND_FUNCTION_2F
 157  0032            2         ifdef EXTEND_FUNCTION_2F
 157  0032            2                 ifdef   PBP
 157  0032            2                 MOV     A,bank EXTEND_FUNCTION_2F
 157  0032            2                 MOV     PBP,A
 157  0032            2                 endif
 157  0032            2                 CALL EXTEND_FUNCTION_2F
 157  0032            2         endif
 157  0032            1                 CALL_   EXTEND_FUNCTION_2G
 157  0032            2         ifdef EXTEND_FUNCTION_2G
 157  0032            2                 ifdef   PBP
 157  0032            2                 MOV     A,bank EXTEND_FUNCTION_2G
 157  0032            2                 MOV     PBP,A
 157  0032            2                 endif
 157  0032            2                 CALL EXTEND_FUNCTION_2G
 157  0032            2         endif
 157  0032            1                 CALL_   EXTEND_FUNCTION_2H
 157  0032            2         ifdef EXTEND_FUNCTION_2H
 157  0032            2                 ifdef   PBP
 157  0032            2                 MOV     A,bank EXTEND_FUNCTION_2H
 157  0032            2                 MOV     PBP,A
 157  0032            2                 endif
 157  0032            2                 CALL EXTEND_FUNCTION_2H
 157  0032            2         endif
 158  0032                              ;----------------
 159  0032                              ;-SET POR ID  ---
 160  0032                              ;----------------
 161  0032                      ifndef  ESCpowerIDcheck
 162  0032  0F42                        MOV     A,042H      ;ASCII = B
 163  0033  0080     R                  MOV     POR_ID[0],A
 164  0034  0F53                        MOV     A,053H      ;ASCII = S
 165  0035  0080     R                  MOV     POR_ID[1],A
 166  0036                      endif
 167  0036              
 168  0036                              ;--------------------
 169  0036              WDT_WAKEUP:     ;-WDT WAKEUP FUNCTION
 170  0036                              ;--------------------
 171  0036                              if      PowerSave==1
 172  0036                              CALL_   _CHECK_KEY_WAKEUP
 172  0036            1         ifdef _CHECK_KEY_WAKEUP
 172  0036            1                 ifdef   PBP
 172  0036            1                 MOV     A,bank _CHECK_KEY_WAKEUP
 172  0036            1                 MOV     PBP,A
 172  0036            1                 endif
 172  0036  2000     E1                 CALL _CHECK_KEY_WAKEUP
 172  0037            1         endif
 173  0037                              endif
 174  0037              
 175  0037                              ifdef   PBP
 176  0037                              MOV     A,BANK MAIN_LOOP
 177  0037                              MOV     PBP,A
 178  0037                              endif
 179  0037  2800     R                  JMP     MAIN_LOOP
文件：MAIN_PROGRAM_V103.asm 编译器版本 2.98 页次47

 180  0038              
 181  0038              
 182  0038              
 183  0038              
 184  0038              
 185  0038              
 186  0038              
 187  0038              
 188  0038              
 189  0038              ;;***********************************************************
 190  0038              ;;*SUB. NAME:                                               *
 191  0038              ;;*INPUT    :                                               *
 192  0038              ;;*OUTPUT   :                                               *
 193  0038              ;;*USED REG.:                                               *
 194  0038              ;;*FUNCTION :                                               *
 195  0038              ;;***********************************************************
 196  0038              CLEAR_RAM:
 197  0038  0083                        MOV     MP1,A
 198  0039                      ifndef  ESCpowerIDcheck
 199  0039                          ifdef  BP
 200  0039                              ;-CHECK BANK
 201  0039  1084                        SZ      BP
 202  003A  2800     R                  JMP     CLR_RAM
 203  003B                          endif
 204  003B                              ;-CHECK POR_ID RAM
 205  003B  0F00     R                  MOV     A,OFFSET POR_ID
 206  003C  0403                        XOR     A,MP1
 207  003D  0F00     R                  MOV     A,OFFSET POR_ID+1
 208  003E  390A                        SNZ     Z
 209  003F  0403                        XOR     A,MP1
 210  0040  390A                        SNZ     Z
 211  0041                      endif
 212  0041              CLR_RAM:        ;-CLEAR RAM
 213  0041  1F02                        CLR     IAR1
 214  0042  1603                        SIZA    MP1
 215  0043  2800     R                  JMP     CLEAR_RAM
 216  0044              
 217  0044  0003                        RET
 218  0045              
 219  0045              
 220  0045              ;;***********************************************************
 221  0045              ;;*SUB. NAME:                                               *
 222  0045              ;;*INPUT    :                                               *
 223  0045              ;;*OUTPUT   :                                               *
 224  0045              ;;*USED REG.:                                               *
 225  0045              ;;*FUNCTION :                                               *
 226  0045              ;;***********************************************************
 227  0045              _LOAD_TKS_GLOBE_VARIES:
 228  0045              _LOAD_HXT_REFERENCE:
 229  0045                              ;------------------------
 230  0045                              ;-SET TKS LIBRARY OPTION-
 231  0045                              ;------------------------
 232  0045  0F70                        MOV     A,GlobeOptionA
 233  0046  0080     E                  MOV     _GLOBE_VARIES[0],A
 234  0047  0FF0                        MOV     A,GlobeOptionB
 235  0048  0080     E                  MOV     _GLOBE_VARIES[1],A
 236  0049  0FC8                        MOV     A,GlobeOptionC
 237  004A  0080     E                  MOV     _GLOBE_VARIES[2],A
 238  004B              
 239  004B                              ;--------------------------
文件：MAIN_PROGRAM_V103.asm 编译器版本 2.98 页次48

 240  004B                              ;-SET TOUCH OR IO ATTRIBUTE
 241  004B                              ;--------------------------
 242  004B  0F1F                        MOV     A,IO_TOUCH_ATTR&0FFH
 243  004C  0080     E                  MOV     _KEY_IO_SEL[0],A
 244  004D                              ;-IF OVER 2 TOUCH IP (8~16KEY)
 245  004D                              if      TouchKeyAmount > 8
 246  004D  0F00                        MOV     A,(IO_TOUCH_ATTR>>8)&0FFH
 247  004E  0080     E                  MOV     _KEY_IO_SEL[1],A
 248  004F                              endif
 249  004F                              ;-IF OVER 4 TOUCH IP (17~24KEY)
 250  004F                              if      TouchKeyAmount > 16
 251  004F                              MOV     A,(IO_TOUCH_ATTR>>16)&0FFH
 252  004F                              MOV     _KEY_IO_SEL[2],A
 253  004F                              endif
 254  004F                              ;-IF OVER 6 TOUCH IP (25~32KEY)
 255  004F                              if      TouchKeyAmount > 24
 256  004F                              MOV     A,(IO_TOUCH_ATTR>>24)&0FFH
 257  004F                              MOV     _KEY_IO_SEL[3],A
 258  004F                              endif
 259  004F              
 260  004F                              ;-IF OVER 6 TOUCH IP (33~36KEY)
 261  004F                              if      TouchKeyAmount > 32
 262  004F                              MOV     A,IO_TOUCH_ATTR2
 263  004F                              MOV     _KEY_IO_SEL[4],A
 264  004F                              endif
 265  004F              
 266  004F                              ;------------------------
 267  004F                              ;-SET TOUCH KEY THRESHOLD
 268  004F                              ;------------------------
 269  004F                              ;-KEY1 THRESHOLD
 270  004F  0F10                        MOV     A,Key1Threshold
 271  0050  0080     E                  MOV     _GLOBE_VARIES[3],A
 272  0051              
 273  0051                              if      TouchKeyAmount > 1
 274  0051                              ;-KEY2 THRESHOLD
 275  0051  0F10                        MOV     A,Key2Threshold
 276  0052  0080     E                  MOV     _GLOBE_VARIES[4],A
 277  0053                              endif
 278  0053              
 279  0053                              if      TouchKeyAmount > 2
 280  0053                              ;-KEY3 THRESHOLD
 281  0053  0F10                        MOV     A,Key3Threshold
 282  0054  0080     E                  MOV     _GLOBE_VARIES[5],A
 283  0055                              endif
 284  0055              
 285  0055                              if      TouchKeyAmount > 3
 286  0055                              ;-KEY4 THRESHOLD
 287  0055  0F10                        MOV     A,Key4Threshold
 288  0056  0080     E                  MOV     _GLOBE_VARIES[6],A
 289  0057                              endif
 290  0057              
 291  0057                              if      TouchKeyAmount > 4
 292  0057                              ;-KEY5 THRESHOLD
 293  0057  0F10                        MOV     A,Key5Threshold
 294  0058  0080     E                  MOV     _GLOBE_VARIES[7],A
 295  0059                              endif
 296  0059              
 297  0059                              if      TouchKeyAmount > 5
 298  0059                              ;-KEY6 THRESHOLD
 299  0059  0F10                        MOV     A,Key6Threshold
文件：MAIN_PROGRAM_V103.asm 编译器版本 2.98 页次49

 300  005A  0080     E                  MOV     _GLOBE_VARIES[8],A
 301  005B                              endif
 302  005B              
 303  005B                              if      TouchKeyAmount > 6
 304  005B                              ;-KEY7 THRESHOLD
 305  005B  0F10                        MOV     A,Key7Threshold
 306  005C  0080     E                  MOV     _GLOBE_VARIES[9],A
 307  005D                              endif
 308  005D              
 309  005D                              if      TouchKeyAmount > 7
 310  005D                              ;-KEY8 THRESHOLD
 311  005D  0F10                        MOV     A,Key8Threshold
 312  005E  0080     E                  MOV     _GLOBE_VARIES[10],A
 313  005F                              endif
 314  005F              
 315  005F                              if     TouchKeyAmount > 8
 316  005F                              ;-KEY9 THRESHOLD
 317  005F  0F10                        MOV     A,Key9Threshold
 318  0060  0080     E                  MOV     _GLOBE_VARIES[11],A
 319  0061                              endif
 320  0061              
 321  0061                              if      TouchKeyAmount > 9
 322  0061                              ;-KEY10 THRESHOLD
 323  0061  0F10                        MOV     A,Key10Threshold
 324  0062  0080     E                  MOV     _GLOBE_VARIES[12],A
 325  0063                              endif
 326  0063              
 327  0063                              if      TouchKeyAmount > 10
 328  0063                              ;-KEY11 THRESHOLD
 329  0063  0F10                        MOV     A,Key11Threshold
 330  0064  0080     E                  MOV     _GLOBE_VARIES[13],A
 331  0065                              endif
 332  0065              
 333  0065                              if      TouchKeyAmount > 11
 334  0065                              ;-KEY12 THRESHOLD
 335  0065  0F10                        MOV     A,Key12Threshold
 336  0066  0080     E                  MOV     _GLOBE_VARIES[14],A
 337  0067                              endif
 338  0067              
 339  0067                              if      TouchKeyAmount > 12
 340  0067                              ;-KEY13 THRESHOLD
 341  0067                              MOV     A,Key13Threshold
 342  0067                              MOV     _GLOBE_VARIES[15],A
 343  0067                              endif
 344  0067              
 345  0067                              if      TouchKeyAmount > 13
 346  0067                              ;-KEY14 THRESHOLD
 347  0067                              MOV     A,Key14Threshold
 348  0067                              MOV     _GLOBE_VARIES[16],A
 349  0067                              endif
 350  0067              
 351  0067                              if      TouchKeyAmount > 14
 352  0067                              ;-KEY15 THRESHOLD
 353  0067                              MOV     A,Key15Threshold
 354  0067                              MOV     _GLOBE_VARIES[17],A
 355  0067                              endif
 356  0067              
 357  0067                              if      TouchKeyAmount > 15
 358  0067                              ;-KEY16 THRESHOLD
 359  0067                              MOV     A,Key16Threshold
文件：MAIN_PROGRAM_V103.asm 编译器版本 2.98 页次50

 360  0067                              MOV     _GLOBE_VARIES[18],A
 361  0067                              endif
 362  0067              
 363  0067                              if      TouchKeyAmount > 16
 364  0067                              ;-KEY17 THRESHOLD
 365  0067                              MOV     A,Key17Threshold
 366  0067                              MOV     _GLOBE_VARIES[19],A
 367  0067                              endif
 368  0067              
 369  0067                              if      TouchKeyAmount > 17
 370  0067                              ;-KEY18 THRESHOLD
 371  0067                              MOV     A,Key18Threshold
 372  0067                              MOV     _GLOBE_VARIES[20],A
 373  0067                              endif
 374  0067              
 375  0067                              if      TouchKeyAmount > 18
 376  0067                              ;-KEY19 THRESHOLD
 377  0067                              MOV     A,Key19Threshold
 378  0067                              MOV     _GLOBE_VARIES[21],A
 379  0067                              endif
 380  0067              
 381  0067                              if      TouchKeyAmount > 19
 382  0067                              ;-KEY20 THRESHOLD
 383  0067                              MOV     A,Key20Threshold
 384  0067                              MOV     _GLOBE_VARIES[22],A
 385  0067                              endif
 386  0067              
 387  0067                              if      TouchKeyAmount > 20
 388  0067                              ;-KEY17 THRESHOLD
 389  0067                              MOV     A,Key21Threshold
 390  0067                              MOV     _GLOBE_VARIES[23],A
 391  0067                              endif
 392  0067              
 393  0067                              if      TouchKeyAmount > 21
 394  0067                              ;-KEY18 THRESHOLD
 395  0067                              MOV     A,Key22Threshold
 396  0067                              MOV     _GLOBE_VARIES[24],A
 397  0067                              endif
 398  0067              
 399  0067                              if      TouchKeyAmount > 22
 400  0067                              ;-KEY19 THRESHOLD
 401  0067                              MOV     A,Key23Threshold
 402  0067                              MOV     _GLOBE_VARIES[25],A
 403  0067                              endif
 404  0067              
 405  0067                              if      TouchKeyAmount > 23
 406  0067                              ;-KEY20 THRESHOLD
 407  0067                              MOV     A,Key24Threshold
 408  0067                              MOV     _GLOBE_VARIES[26],A
 409  0067                              endif
 410  0067              
 411  0067                              if      TouchKeyAmount > 24
 412  0067                              ;-KEY17 THRESHOLD
 413  0067                              MOV     A,Key25Threshold
 414  0067                              MOV     _GLOBE_VARIES[27],A
 415  0067                              endif
 416  0067              
 417  0067                              if      TouchKeyAmount > 25
 418  0067                              ;-KEY18 THRESHOLD
 419  0067                              MOV     A,Key26Threshold
文件：MAIN_PROGRAM_V103.asm 编译器版本 2.98 页次51

 420  0067                              MOV     _GLOBE_VARIES[28],A
 421  0067                              endif
 422  0067              
 423  0067                              if      TouchKeyAmount > 26
 424  0067                              ;-KEY19 THRESHOLD
 425  0067                              MOV     A,Key27Threshold
 426  0067                              MOV     _GLOBE_VARIES[29],A
 427  0067                              endif
 428  0067              
 429  0067                              if      TouchKeyAmount > 27
 430  0067                              ;-KEY20 THRESHOLD
 431  0067                              MOV     A,Key28Threshold
 432  0067                              MOV     _GLOBE_VARIES[30],A
 433  0067                              endif
 434  0067              
 435  0067                              if      TouchKeyAmount > 28
 436  0067                              ;-KEY29 THRESHOLD
 437  0067                              MOV     A,Key29Threshold
 438  0067                              MOV     _GLOBE_VARIES[31],A
 439  0067                              endif
 440  0067              
 441  0067                              if      TouchKeyAmount > 29
 442  0067                              ;-KEY30 THRESHOLD
 443  0067                              MOV     A,Key30Threshold
 444  0067                              MOV     _GLOBE_VARIES[32],A
 445  0067                              endif
 446  0067              
 447  0067                              if      TouchKeyAmount > 30
 448  0067                              ;-KEY31 THRESHOLD
 449  0067                              MOV     A,Key31Threshold
 450  0067                              MOV     _GLOBE_VARIES[33],A
 451  0067                              endif
 452  0067              
 453  0067                              if      TouchKeyAmount > 31
 454  0067                              ;-KEY32 THRESHOLD
 455  0067                              MOV     A,Key32Threshold
 456  0067                              MOV     _GLOBE_VARIES[34],A
 457  0067                              endif
 458  0067              
 459  0067                              if      TouchKeyAmount > 32
 460  0067                              ;-KEY33 THRESHOLD
 461  0067                              MOV     A,Key33Threshold
 462  0067                              MOV     _GLOBE_VARIES[35],A
 463  0067                              endif
 464  0067              
 465  0067                              if      TouchKeyAmount > 33
 466  0067                              ;-KEY34 THRESHOLD
 467  0067                              MOV     A,Key34Threshold
 468  0067                              MOV     _GLOBE_VARIES[36],A
 469  0067                              endif
 470  0067              
 471  0067                              if      TouchKeyAmount > 34
 472  0067                              ;-KEY35 THRESHOLD
 473  0067                              MOV     A,Key35Threshold
 474  0067                              MOV     _GLOBE_VARIES[37],A
 475  0067                              endif
 476  0067              
 477  0067                              if      TouchKeyAmount > 35
 478  0067                              ;-KEY36 THRESHOLD
 479  0067                              MOV     A,Key36Threshold
文件：MAIN_PROGRAM_V103.asm 编译器版本 2.98 页次52

 480  0067                              MOV     _GLOBE_VARIES[38],A
 481  0067                              endif
 482  0067              
 483  0067              
 484  0067  0003                        RET
 485  0068              
 486  0068              
 487  0068              
 488  0068              
 489  0068                              END


        0 Errors, 0 Warnings